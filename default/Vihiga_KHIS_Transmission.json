{"flowContents":{"identifier":"0342be20-8b97-32e7-98d2-7c11cb2d5b42","name":"Vihiga KHIS Transmission","comments":"","position":{"x":-2464.0,"y":-1152.0},"processGroups":[{"identifier":"38e5ec21-e3ea-3ec2-83d8-0fd68e4f46c0","name":"Vihiga KHIS Transmission - Production","comments":"","position":{"x":-2464.0,"y":-936.0},"processGroups":[{"identifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG To CouchDB: Summaries","comments":"","position":{"x":264.0,"y":648.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","name":"PG Fetch Vihiga Summaries","comments":"","position":{"x":312.0,"y":744.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"select * from khis_summary_data_last_month;","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","name":"ExecuteScript","comments":"","position":{"x":312.0,"y":480.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"\nimport java.util.Calendar\nimport java.text.SimpleDateFormat\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n// last day last month\ndef calendar = Calendar.getInstance()\ncalendar.add(Calendar.MONTH, -1)\ncalendar.set(Calendar.DAY_OF_MONTH, calendar.getActualMaximum(Calendar.DAY_OF_MONTH))\n\n// first day last month\ndef calendar2 = Calendar.getInstance()\ncalendar2.add(Calendar.MONTH, -1)\ncalendar2.set(Calendar.DAY_OF_MONTH, 1)\n\n\ndef year = calendar.get(Calendar.YEAR);\ndef month = new SimpleDateFormat(\"MMMM\").format(calendar.getTime());\ndef monthIso = new SimpleDateFormat(\"MM\").format(calendar.getTime());\ndef fromDate = new SimpleDateFormat(\"yyyy-MM-dd\").format(calendar2.getTime());\ndef toDate = new SimpleDateFormat(\"yyyy-MM-dd\").format(calendar.getTime());\n\n// set last month's month and year to attributes\nflowFile=session.putAttribute(flowFile, \"year\", \"$year\");\nflowFile=session.putAttribute(flowFile, \"month\", \"$month\");\nflowFile=session.putAttribute(flowFile, \"month_iso\", \"$monthIso\");\nflowFile=session.putAttribute(flowFile, \"from_date\", \"$fromDate\");\nflowFile=session.putAttribute(flowFile, \"to_date\", \"$toDate\");\n\nsession.transfer(flowFile, REL_SUCCESS)","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","name":"InvokeHTTP","comments":"","position":{"x":1296.0,"y":480.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://vihiga-production-go-ke.lg-apps.com/medic","Content-Type":"application/json","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Basic Authentication Username":"rmayore","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"660fc58c-bc44-3586-bba2-02068221c5da","name":"JoltTransformJSON","comments":"","position":{"x":1296.0,"y":1272.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\":  \"shift\",\n    \"spec\": {\n      \"families_registered_all_time\": \"count_total_households\",\n      \"count_households_with_home_visit\": \"count_households_routine_visists\",\n      \"families_registered\": \"count_households_visited\",\n      \"count_households_with_updated_insurance\": \"count_households_visited_with_insurance\",\n      \"count_households_with_updated_insurance_uhc\": \"count_households_with_uptodate_insurance_uhc\",\n      \"count_households_with_updated_insurance_nhif\": \"count_households_with_uptodate_insurance_nhif\",\n      \"count_households_with_updated_insurance_other\": \"count_households_with_uptodate_insurance_others\",\n      \"households_with_refuse_disposal_facilities\": \"count_households_with_refuse_disposal_facility\",\n      \"count_women_15_49_yrs_counselled_fp_methods\": \"count_women_15_49yrs_counselled_on_fp\",\n      \"count_women_15_49_yrs_referred_fp_services\": \"count_women_15_49yrs_referred_for_fp\",\n      \"count_fp_services_referral_reaching_hf\": \"count_fp_services_reaching_facility\",\n      \"count_pregnancy_referrals_reaching_hf\": \"count_pregnant_women_reaching_facility\",\n      \"count_pnc_referrals_reaching_hf\": \"count_post_natal_reaching_facility\",\n      \"count_immunization_referrals_reaching_hf\": \"count_iz_defaulters_reaching_facility\",\n      \"count_hts_referrals_reaching_hf\": \"count_hiv_testing_reaching_facility\",\n      \"count_art_referrals_reaching_hf\": \"count_art_defaulters_reaching_facility\",\n      \"count_hei_referrals_reaching_hf\": \"count_hiv_exposed_infant_defaulter_reaching_facility\",\n      \"count_routine_checkups_referrals_reaching_hf\": \"count_elderly_checkups_reaching_facility\",\n      \"count_presumptive_tb_cases_referrals_reaching_hf\": \"count_presumptive_tb_cases_reaching_facility\",\n      \"count_presumptive_tb_contacts_referrals_reaching_hf\": \"count_presumptive_tb_contacts_reaching_facility\",\n      \"count_u5_child_tb_contacts_for_ipt_reaching_hf\": \"count_u5_isoniazid_therapy_reaching_facility\",\n      \"count_tb_interrupters_referrals_reaching_hf\": \"count_tb_interrupters_reaching_facility\",\n      \"pregnancies_registered\": \"count_pregnant_women\",\n      \"households_using_treated_water\": \"count_households_using_treated_water\",\n      \"households_with_hand_washing_facilities\": \"count_households_with_hand_washing_facilities\",\n      \"households_with_functional_latrines\": \"count_households_with_functional_latrines\",\n      \"count_newborn_visited_at_home_within_48_hrs\": \"count_new_born_visited_48hrs_after_birth\",\n      \"count_new_mothers_visited_within_48_hrs\": \"count_mothers_visited_48hrs\",\n      \"underage_pregnancies\": \"count_underage_pregnancies\",\n      \"count_women_15_49_yrs_provided_fp_commodities\": \"count_women_15_49yrs_given_family_planning\",\n      \"count_children_12_59_months_dewormed\": \"count_children__u5_dewormed\",\n      \"count_fever_cases_u5\": \"count_u5_fever_7days_less\",\n      \"count_fever_cases_mrdt_7days_u5\": \"count_u5_fever_7days_less_rdt_done\",\n      \"count_fever_cases_mrdt_positive_7days_u5\": \"count_u5_fever_7days_less_rdt_positive\",\n      \"count_malaria_u5_given_act\": \"count_u5_malaria_rdt_positive_treated_act\",\n      \"count_malaria_o5_given_act\": \"count_malaria_over5_mrtd_positive_act_treated\",\n      \"count_fever_cases_o5\": \"count_over_5yrs_fever_7days_less\",\n      \"count_fever_cases_mrdt_7days_o5\": \"count_over_5yrs_fever_7days_less_rdt_done\",\n      \"count_fever_cases_mrdt_positive_7days_o5\": \"count_over_5yrs_fever_7days_less_rdt_positive\",\n      \"count_diarrhoea_cases_2mo_59mo\": \"count_2_59m_diarrhoea_cases\",\n      \"diarrhoea_2mo_59mo_ors_zinc\": \"count_diarrhoea_u5_treated\",\n      \"count_fast_breathing_2mo_59mo\": \"count_2_59m_with_fast_breathing\",\n      \"count_gave_amox_2mo_59mo\": \"count_2_59m_fast_breathing_treated_amox\",\n      \"count_pregnant_women_counselled_for_anc_services\": \"count_women_counselled_on_anc\",\n      \"count_pregnant_women_referred_to_hf\": \"count_pregnant_women_referred\",\n      \"total_deliveries\": \"count_new_deliveries_at_cu\",\n      \"total_deliveries_at_hf\": \"count_new_deliveries_at_facility\",\n      \"total_deliveries_at_home\": \"count_new_deliveries_at_home\",\n      \"total_underage_deliveries_10_19_yrs\": \"count_underage_deliveries\",\n      \"count_home_deliveries_referred_for_pnc_services\": \"count_home_deliveries_referred_for_pnc\",\n      \"count_children_0_11_months_referred_for_immunization\": \"count_referred_immunization_children_under_12m\",\n      \"count_children_6_59_months_referred_vitamin_a\": \"count_referred_vitamin_a_children_u5\",\n      \"count_children_6_59_months_with_red_muac\": \"count_6_59m_children_muac_red\",\n      \"count_children_6_59_months_with_yellow_muac\": \"count_6_59m_children_muac_yellow\",\n      \"count_referred_hiv_testing_services_hts\": \"count_referred_hct\",\n      \"count_persons_60_plus_yrs_referred_for_cgs_checkups\": \"count_referred_elderly_geriatric_services\",\n      \"count_persons_screened_for_tb\": \"count_screened_for_tb\",\n      \"count_presumptive_tb_persons_referred_for_tb_diagnosis\": \"count_presumptive_tb_persons_referred\",\n      \"count_confirmed_tb_cases_from_clinic\": \"count_bacteriologically_tb_confirmed\",\n      \"count_presumptive_tb_contacts_referred_for_screening\": \"count_presumptive_bacteriologically_tb_referred\",\n      \"count_children_u5_yrs_tb_contacts_referred_for_ipt\": \"count_u5_tb_reffered_ipt\",\n      \"count_tb_treatment_interrupters\": \"count_tb_interrupters\",\n      \"count_count_tb_treatment_interrupters_traced\": \"count_tb_interrupters_traced\",\n      \"count_known_cases_diabetes\": \"count_diabetes\",\n      \"count_known_cases_cancer\": \"count_cancer\",\n      \"count_known_cases_mental_illness\": \"count_mental_illness\",\n      \"count_known_cases_hypertension\": \"count_hypertension\",\n      \"count_immunization_defaulters\": \"count_u5_iz_defaulters_referred\",\n      \"count_children_with_delayed_dev_milestone_referred\": \"count_children_delayed_development\",\n      \"count_art_defaulters\": \"count_defaulter_art\",\n      \"count_art_defaulters_traced_referred\": \"count_art_defaulters_traced_and_referred\",\n      \"count_hiv_exposed_infant_defaulters\": \"count_exposed_infant_defaulters\",\n      \"count_hiv_exposed_infant_defaulters_traced_referred\": \"count_exposed_infants_defaulters_traced_referred\",\n      \"count_infant_deaths_0_28_days\": \"count_infant_deaths_0_28dys\",\n      \"count_infant_deaths_29_days_11_months\": \"count_infant_deaths_29dy_11mo\",\n      \"count_infant_deaths_12_59_months\": \"count_infant_deaths_12_59mo\",\n      \"count_deaths_6_59_years\": \"count_deaths_6_59yrs_non_maternal\",\n      \"count_deaths_60_above_years\": \"count_deaths_60yrs_above\",\n      \"count_maternal_deaths\": \"count_maternal_deaths\",\n      \"count_community_dialogue_days_held\": \"count_community_events_dialogue_days\",\n      \"count_community_action_days_held\": \"count_community_events_action_days\",\n      \"count_cu_monthly_meetings_held\": \"count_community_events_monthly_meetings\",\n\t  \"active_chws_in_perod\": \"active_chws_in_period\",\n      \"count_chws\": \"count_chv\",\n      \"mcul_code\": \"mculcode\",\n      \"*\": \"&\"\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"225ff448-9b03-333e-b1b6-69b31de9de57","name":"SplitJson","comments":"","position":{"x":312.0,"y":1272.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.SplitJson","properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"822c83f4-33e7-3396-a36d-1e538509de57","name":"JoltTransformJSON","comments":"","position":{"x":1296.0,"y":736.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"chu_uuid\": [\"fields.chu_uuid\",\"parent._id\",\"place_id\"],\n      \"cha_uuid\": [\"contact._id\",  \"reporting_cha_id\",  \"fields.cha_id\"],\n      \"chu_name\": [\"community_unit\"],\n      \"sub_county_focal_person_uuid\": [\"fields.sub_county_supervisor_id\"],\n      \"*\": \"fields.&\"\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"fields\":{\n\t\t\"month\":\"${month}\",\n      \t\"year\":\"${year}\",\n\t\t\"month_iso\":\"${month_iso}\"\n\t\t},\n      \"type\": \"data_record\",\n      \"form\": \"moh-515-summary\",\n      \"content_type\": \"xml\",\n      \"reported_date\": ${now():toNumber()}\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"36445250-7e98-34dc-baaa-154467609aa2","name":"Initiate","comments":"","position":{"x":312.0,"y":240.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"1000 days","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 day","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","name":"Add Extra Info","comments":"","position":{"x":1296.0,"y":976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"country":"ke","Delete Attributes Expression":null,"route":"api","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","data_type":"moh_515_aggregate","destination":"dhis2","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"country":{"name":"country","displayName":"country","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"route":{"name":"route","displayName":"route","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"data_type":{"name":"data_type","displayName":"data_type","identifiesControllerService":false,"sensitive":false},"destination":{"name":"destination","displayName":"destination","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","name":"Avro To JSON","comments":"","position":{"x":312.0,"y":976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"5986d555-3c22-3612-966b-aca2af2ad895","record-reader":"19bcd49f-90cc-34aa-9863-7a67cf5084e3","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"51b6f948-8c38-30e9-8706-b824cf25af63","name":"","source":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"destination":{"id":"66d334b2-5dd4-3faa-8adf-945b75f6637f","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"58d70cad-6a2f-3797-a077-444d9997515f","name":"","source":{"id":"36445250-7e98-34dc-baaa-154467609aa2","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Initiate","comments":""},"destination":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"db3156bb-8a82-3a52-bb9a-0512fca84cf1","name":"","source":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"destination":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"a59e7a93-d6be-3f2a-adc8-e7e62733d7d8","name":"","source":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"destination":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"8e6241ef-4df6-3c61-8cda-97ceb7931f48","name":"","source":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"destination":{"id":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"e1a9ed46-e365-36e1-b322-8f884b218fee","name":"","source":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"destination":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5b1e4e66-4905-38d2-afda-f4b8ee65574c","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1784.0,"y":488.0},{"x":1784.0,"y":568.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"64e33189-f5a0-3b4a-91a2-0d71a9e62225","name":"","source":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"f90e0468-5424-3a51-938a-d95fe62fd5ff","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"cbfd5c24-fa86-330e-8736-2e731452c0f3","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"0a66a137-ae2c-362b-af56-a14a64b38a61","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"c1efb3d4-69f5-304d-8a84-08a566e7e894","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"16a7444c-65b0-355f-98e1-c662f2595d31","name":"","source":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"76407e78-9a1c-3b31-ad0e-769edac2f279","name":"","source":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"destination":{"id":"5948c678-8784-38d6-94b9-52ff773ff441","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"9fc5d610-14eb-35f5-b4ad-fb74cbe53299","name":"","source":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"destination":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"0e3a7a4d-131c-3876-a2d3-e9dcdfb99253","name":"","source":{"id":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Add Extra Info","comments":""},"destination":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"15b08bf8-5ca2-3a70-a6e2-0c3e787b0a25","name":"","source":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"66d334b2-5dd4-3faa-8adf-945b75f6637f","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"406771d8-f239-3e9d-900f-b1ace7b23a58","name":"","source":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Add Extra Info","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"2479241c-b18e-339e-b2c7-ed1a1607422a","name":"","source":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"destination":{"id":"c1efb3d4-69f5-304d-8a84-08a566e7e894","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"labels":[],"funnels":[{"identifier":"c1efb3d4-69f5-304d-8a84-08a566e7e894","position":{"x":960.0,"y":512.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5948c678-8784-38d6-94b9-52ff773ff441","position":{"x":464.0,"y":1640.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","position":{"x":960.0,"y":776.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"cbfd5c24-fa86-330e-8736-2e731452c0f3","position":{"x":1448.0,"y":280.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"66d334b2-5dd4-3faa-8adf-945b75f6637f","position":{"x":960.0,"y":1016.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"controllerServices":[{"identifier":"19bcd49f-90cc-34aa-9863-7a67cf5084e3","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5986d555-3c22-3612-966b-aca2af2ad895","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"38e5ec21-e3ea-3ec2-83d8-0fd68e4f46c0"},{"identifier":"50f277e9-db5c-385a-affd-ec331e19d27e","name":"CouchDB To DHIS2: Verified MoH-515","comments":"","position":{"x":264.0,"y":920.0},"processGroups":[{"identifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Filter Out Docs Already Transmitted","comments":"","position":{"x":984.0,"y":808.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"2db34ade-7ead-33a8-aa15-2fe161add2bd","name":"Count","comments":"","position":{"x":1624.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"record_count":"$[0].count","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"record_count":{"name":"record_count","displayName":"record_count","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","name":"Return Doc","comments":"","position":{"x":304.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","name":"Avro To JSON","comments":"","position":{"x":1624.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"356056fa-b7d6-3ea5-957f-7813e99a336f","record-reader":"b8ae207f-9093-358e-ab04-6e8946636866","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","name":"Fetch Transmission Record Count","comments":"","position":{"x":960.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"SELECT COUNT (*) FROM public.moh_515_khis_reports \nwhere doc_uuid='${doc_uuid}' and chew_uuid='${chew_uuid}' \nand mcul_code='${mcul_code}' and date_submitted IS NOT NULL\nand status = 'success'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"af1c9c71-5608-3a2c-92f7-d49105dbd1c1","name":"Add Mime Type","comments":"","position":{"x":304.0,"y":1256.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"6af829a9-7224-39e3-bc5a-6666c6fefc26","name":"Report Already Transmitted?","comments":"","position":{"x":960.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","not_transmitted":"${record_count:gt(0):not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"not_transmitted":{"name":"not_transmitted","displayName":"not_transmitted","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"2f438fd3-5691-3f0a-93a4-868414131bff","name":"Get Info From Doc","comments":"","position":{"x":304.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc":"$","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"inputPorts":[{"identifier":"4e581063-056f-3e2a-b5bb-46e99f66a8de","name":"In","comments":"","position":{"x":360.0,"y":248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"outputPorts":[{"identifier":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","name":"Out","comments":"","position":{"x":360.0,"y":1512.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"connections":[{"identifier":"e973062e-c6fa-3155-b852-4b738c3c41e6","name":"","source":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c42bb21c-0b5f-3e0b-ab5e-04b041cd61f1","name":"","source":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"destination":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":800.0,"y":616.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"54d7670b-1447-3e34-bcd9-43b94c6ac4bf","name":"","source":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"destination":{"id":"7d0aeb14-dddf-376f-a0c5-bde90524891b","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a4274f0b-f3fc-3cda-b8ff-d9b68f7ae3b9","name":"","source":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"destination":{"id":"c011c284-6fa1-3e85-9fe7-d66f9f061f4a","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c4c955af-ce1f-348b-94d7-17b49400ef29","name":"","source":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"destination":{"id":"155cc8c0-a30d-3fb1-80ab-ee1b10458ef3","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"0dd2341f-b644-3282-a260-d6e74192b962","name":"","source":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"destination":{"id":"af1c9c71-5608-3a2c-92f7-d49105dbd1c1","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Add Mime Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"f7eb36d0-68af-33d5-8f17-5904a829a1ec","name":"","source":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"destination":{"id":"58c649ff-7ba5-33e6-88e5-4d4929ceaeb2","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"1 hr","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"4a87e3d0-a2ca-390a-84e2-ad65aaa3c74a","name":"","source":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"a5045ec2-30a5-3fab-b36a-b9f09eb508ac","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"0d71902f-4d7d-368f-b7fc-c0e4cf9d59c3","name":"","source":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"destination":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"32d64b9e-45fc-3b96-8305-bf6ee583cfbb","name":"","source":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"destination":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c3a73703-f88e-385e-81d7-c8a8558beac4","name":"","source":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"destination":{"id":"24f920df-7eb9-3571-846d-3568ff39a517","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"47f99a52-9b40-3d86-ba99-17d37dd8452a","name":"","source":{"id":"af1c9c71-5608-3a2c-92f7-d49105dbd1c1","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Add Mime Type","comments":""},"destination":{"id":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","type":"OUTPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"3b36f4bd-83a9-3953-bf3c-c4073eddd46f","name":"","source":{"id":"4e581063-056f-3e2a-b5bb-46e99f66a8de","type":"INPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"In","comments":""},"destination":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c8a9a29e-8851-3450-a231-e4d5cff2a815","name":"","source":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"destination":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["not_transmitted"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"labels":[],"funnels":[{"identifier":"58c649ff-7ba5-33e6-88e5-4d4929ceaeb2","position":{"x":1112.0,"y":1360.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"24f920df-7eb9-3571-846d-3568ff39a517","position":{"x":1776.0,"y":1360.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"7d0aeb14-dddf-376f-a0c5-bde90524891b","position":{"x":1776.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a5045ec2-30a5-3fab-b36a-b9f09eb508ac","position":{"x":1112.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"155cc8c0-a30d-3fb1-80ab-ee1b10458ef3","position":{"x":-32.0,"y":592.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c011c284-6fa1-3e85-9fe7-d66f9f061f4a","position":{"x":-24.0,"y":1024.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"controllerServices":[{"identifier":"b8ae207f-9093-358e-ab04-6e8946636866","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"356056fa-b7d6-3ea5-957f-7813e99a336f","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit To DHIS2","comments":"","position":{"x":984.0,"y":536.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4e6eee23-aa9a-328b-a4d0-82142dcab6ed","name":"Get Info From Doc","comments":"","position":{"x":896.0,"y":1176.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc":"$","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"c95bf71a-cda2-30ad-af32-293180c072f4","name":"InvokeHTTPHIS LIve","comments":"","position":{"x":1536.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"200 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"10 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://hiskenya.org/api/dataValueSets?orgUnitIdScheme=CODE","Content-Type":"${mime.type}","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"75 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Basic Authentication Username":"LGoods","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"7 mins","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"de244852-cf5b-391c-a164-e8f2b8b689ca","name":"JoltTransformJSON","comments":"","position":{"x":896.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"fields\": {\n\t\t  \"new_count_total_households\": \"rdcZ1ni3jrD\",\n\t\t  \"new_count_u5_malaria_rdt_positive_treated_act\": \"V9SqzZHKoP7\",\n          \"new_count_over_5yrs_fever_7days_less_rdt_done\": \"ZAsCMIJLkvj\",\n          \"new_count_u5_fever_7days_less_rdt_done\": \"RXgNfdYSJPh\",\n          \"new_count_new_born_visited_48hrs_after_birth\": \"NjcDm9nopWu\",\n          \"new_count_elderly_checkups_reaching_facility\": \"ylvw7Y1OB1H\",\n          \"new_count_community_events_monthly_meetings\": \"aod6Gz2QUg2\",\n          \"new_count_u5_fever_7days_less_rdt_positive\": \"eUakxWsxkcq\",\n          \"new_count_community_events_action_days\": \"ybfaTwL9yBA\",\n          \"new_count_new_deliveries_at_home\": \"X9d8oaBHDqx\",\n          \"new_count_defaulter_art\": \"iJpuwr4Hqj1\",                     \n          \"new_count_households_with_functional_latrines\": \"b16FHzbfVUe\",\n          \"new_count_new_deliveries_at_facility\": \"fdsnixQkKCY\",   \n          \"new_count_presumptive_bacteriologically_tb_referred\": \"siQaAwG3fiQ\",\n          \"new_count_u5_iz_defaulters_referred\": \"KHfPfnhSjmA\", \n          \"new_count_bacteriologically_tb_confirmed\": \"HHyDcD7IjqT\",\n          \"new_count_u5_isoniazid_therapy_reaching_facility\": \"RlDNgxU0gn3\",\n          \"new_count_women_counselled_on_anc\": \"LHd6A9RtHRF\",\n          \"new_count_women_15_49yrs_counselled_on_fp\": \"qNoOzWtEpuD\",\n          \"new_count_infant_deaths_29dy_11mo\": \"I9yVwu1FWu6\",\n          \"new_count_u5_fever_7days_less\": \"gpYrkLhO4wB\",\n          \"new_count_households_with_refuse_disposal_facility\": \"lhkXObzaWr3\",\n          \"new_count_women_15_49yrs_given_family_planning\": \"bbrNRV9zwVa\",\n          \"new_count_referred_vitamin_a_children_u5\": \"ksINuMMr419\",\n          \"new_count_households_visited\": \"LGsW5FyZFwZ\",\n          \"new_count_underage_deliveries\": \"vB85yqSN4gx\",\n          \"new_count_households_with_uptodate_insurance_others\": \"KiKtdZ5rV5d\",\n          \"new_count_mental_illness\": \"d0XSdWwIlCU\",\n          \"new_count_2_59m_fast_breathing_treated_amox\": \"wMQolZyIR5P\",\n          \"new_count_post_natal_reaching_facility\": \"vyCCWAqAP5x\",\n          \"new_count_referred_hct\": \"zbYf5G3P7Fv\",     \n          \"new_count_underage_pregnancies\": \"h9VcGyaQkfZ\",\n          \"new_count_u5_tb_reffered_ipt\": \"RhriKmKbHuH\",\n          \"new_count_cancer\": \"SnP5Qr06tLy\",\n          \"new_count_households_using_treated_water\": \"OXgWwVp4SLi\",\n          \"new_count_new_deliveries_at_cu\": \"jx879BUZ39L\",\n          \"new_count_households_with_uptodate_insurance_uhc\": \"d0zEtbkJnel\",\n          \"new_count_screened_for_tb\": \"NjCLHbMeaNw\",\n          \"new_count_households_with_hand_washing_facilities\": \"zhwGF3FDj8B\",\n          \"new_count_presumptive_tb_contacts_reaching_facility\": \"Qr3F0zbsMmN\",\n          \"new_count_fp_services_reaching_facility\": \"RivX8a7SDU3\",\n          \"new_count_2_59m_diarrhoea_cases\": \"V00z4bQRaqe\",\n          \"new_count_mothers_visited_48hrs\": \"tuIDKhqDdcB\",\n          \"new_count_over_5yrs_fever_7days_less\": \"YCWGGPn7tdl\",\n          \"new_count_art_defaulters_traced_and_referred\": \"q90IMsLpFO4\",\n          \"new_count_malaria_over5_mrtd_positive_act_treated\": \"oVxxa344TPs\",\n          \"new_count_pregnant_women_referred\": \"VrpxWLhfIr6\",      \n          \"new_count_community_events_dialogue_days\": \"Y0ZpWnkp4v9\",\n          \"new_count_diabetes\": \"umcBUHyhuTc\",\n          \"new_count_tb_interrupters_reaching_facility\": \"RKBTMciF0Tk\",   \n          \"new_count_presumptive_tb_persons_referred\": \"eLMPka37L2p\",\n          \"new_count_deaths_6_59yrs_non_maternal\": \"jBYvAmDdyfY\",\n          \"new_count_6_59m_children_muac_red\": \"idiiaWIh2qi\",\n          \"new_count_infant_deaths_12_59mo\": \"sXPwrF8r04E\",\n          \"new_count_households_routine_visists\": \"vGvOtbvhclF\",\n          \"new_count_6_59m_children_muac_yellow\": \"ekh0oJidJ38\",\n          \"new_count_children_delayed_development\": \"dmU5MIrpsP7\",\n          \"new_count_deaths_60yrs_above\": \"zW17XEoFhAN\",\n          \"new_count_women_15_49yrs_referred_for_fp\": \"TLKNYG2xGad\",\n          \"new_count_children__u5_dewormed\": \"vAkP6k0yZDk\",\n          \"new_count_iz_defaulters_reaching_facility\": \"XDgpSRb8Ofv\", \n          \"new_count_hiv_testing_reaching_facility\": \"QAKpLg7iZEJ\",\n          \"new_count_art_defaulters_reaching_facility\": \"TfmOlLMrQc6\",\n          \"new_count_infant_deaths_0_28dys\": \"bWTVzXQoxpt\",\n          \"new_count_hiv_exposed_infant_defaulter_reaching_facility\": \"yHBk3iXClvx\",     \n          \"new_count_home_deliveries_referred_for_pnc\": \"JrdSl1ADdBC\",\n          \"new_count_over_5yrs_fever_7days_less_rdt_positive\": \"QfBRPj1q0W1\",\n          \"new_count_households_visited_with_insurance\": \"z9qwgod3UiG\",\n          \"new_count_pregnant_women\": \"NvUUbEhFVcO\",\n          \"new_count_hypertension\": \"v9HafndlV8q\",\n          \"new_count_tb_interrupters\": \"XP1JclLpKdP\",\n          \"new_count_diarrhoea_u5_treated\": \"AR3WCfcKDwX\",           \n          \"new_count_tb_interrupters_traced\": \"mOoe88OmCct\",\n          \"new_count_referred_elderly_geriatric_services\": \"hYPcrC46URl\",\n          \"new_count_households_with_uptodate_insurance_nhif\": \"xXhZ15pqy4p\",\n          \"new_count_referred_immunization_children_under_12m\": \"ZkAL6i7sS2S\",\n          \"new_count_2_59m_with_fast_breathing\": \"WBTvg49kJHr\",\n          \"new_count_exposed_infant_defaulters\": \"r1ed7zn2Q0a\",\n          \"new_count_presumptive_tb_cases_reaching_facility\": \"HC2a1iMVGPv\",\n          \"new_count_maternal_deaths\": \"Gx1XLLsvwAZ\",\n          \"new_count_exposed_infants_defaulters_traced_referred\": \"rdJBPSOGJlA\",\n          \"new_count_pregnant_women_reaching_facility\": \"wYD1JE3Tgsu\",\n          \"mculcode\": \"mculcode\",\n          \"month\": \"month\",\n          \"year\": \"year\"\n        }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"mculcode\": {\n        \"@\": \"orgUnit\"\n      },\n      \"month\": \"month\",\n      \"year\": \"year\",\n      \"branch_uuid\": \"branch_uuid\",\n      \"*\": {\n        \"@\": \"dataValues[].&1\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"dataValues\": {\n        \"*\": {\n          \"*\": {\n            \"@\": \"dataValues[&2].value\",\n            \"$\": \"dataValues[&2].dataElement\"\n          }\n        }\n      },\n      \"*\": \"&\"\n    }\n  },\n\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"dataSet\": \"ovtKPo15xAg\",\n      \"completeDate\": \"${now():format('yyyy-MM-dd')}\",\n      \"period\": \"${period}\"\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"dataValues\": {\n        \"*\": {\n          \"categoryOptionCombo\": \"NhSoXUMPK2K \"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"eeb462a4-e047-3615-87e6-3f3b52091a8a","name":"Transmit Only Within Date Range","comments":"","position":{"x":232.0,"y":640.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n\ndef transmissionStart = flowFile.getAttribute(\"transmission_start\");\ndef transmissionEnd = flowFile.getAttribute(\"transmission_end\");\n\ndef transmissionStartInt = Integer.parseInt(transmissionStart);\ndef transmissionEndInt = Integer.parseInt(transmissionEnd);\n\n\n// if in transmission window, pass as success\nif (isInTransmissionWindow(transmissionStartInt, transmissionEndInt)) {\n    session.transfer(flowFile, REL_SUCCESS)\n} else {\n    session.transfer(flowFile, REL_FAILURE)\n}\n\n// in window if date is within transmission range\ndef isInTransmissionWindow(transmissionStartInt, transmissionEndInt) {\n    def calendar = Calendar.getInstance();\n    def day = calendar.get(Calendar.DAY_OF_MONTH);\n\n    return day >= transmissionStartInt && day <= transmissionEndInt\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"181fb60e-8bbf-3d78-a15b-534a51788990","name":"Add Period & Data Type","comments":"","position":{"x":232.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"period":"${year:append(${month:toDate('MMMMM'):format('MM')})}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","data_type":"moh_515_aggregate_approved","Stateful Variables Initial Value":null},"propertyDescriptors":{"period":{"name":"period","displayName":"period","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"data_type":{"name":"data_type","displayName":"data_type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"inputPorts":[{"identifier":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","name":"In","comments":"","position":{"x":288.0,"y":448.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"outputPorts":[{"identifier":"85b6204e-a402-3e98-b761-e29b9131b741","name":"Success","comments":"","position":{"x":1592.0,"y":680.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"c273f913-6871-3252-add7-58ecdc0d4ca5","name":"Failure","comments":"","position":{"x":2080.0,"y":1272.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"connections":[{"identifier":"86259fbb-c78f-3b7a-882c-c6927f489c68","name":"","source":{"id":"c95bf71a-cda2-30ad-af32-293180c072f4","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"85b6204e-a402-3e98-b761-e29b9131b741","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Success","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"ffb5cde0-7f94-3463-a4fa-b7a29108d642","name":"","source":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"181fb60e-8bbf-3d78-a15b-534a51788990","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Add Period & Data Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"fc7a56f3-61ac-3f3f-a658-f60078bcb8be","name":"","source":{"id":"c95bf71a-cda2-30ad-af32-293180c072f4","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"0900cabc-89fd-3012-b79e-0c346b6c5d2f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"9ef5078d-0980-3b54-bebb-5c05fe2cf7ec","name":"","source":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"destination":{"id":"4e6eee23-aa9a-328b-a4d0-82142dcab6ed","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"d78d9815-10c0-3dcd-9d50-62b54dc529e9","name":"","source":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"destination":{"id":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"a707a03d-d77b-34d9-9872-bcd5178e79f2","name":"","source":{"id":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","type":"INPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"In","comments":""},"destination":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"54ac418b-311b-357b-bfe3-675d0b6da2c6","name":"","source":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"74fbac0d-241b-37ae-b85f-da42d3ccc67d","name":"","source":{"id":"181fb60e-8bbf-3d78-a15b-534a51788990","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Add Period & Data Type","comments":""},"destination":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"b582e829-f517-3309-b953-b31dcf4eeed9","name":"","source":{"id":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"destination":{"id":"c273f913-6871-3252-add7-58ecdc0d4ca5","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Failure","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"90de4cdd-d3c1-370c-afa2-a6745965de3a","name":"","source":{"id":"c95bf71a-cda2-30ad-af32-293180c072f4","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"a7db6014-0828-38f4-b7eb-7295aa3cfbfd","name":"","source":{"id":"4e6eee23-aa9a-328b-a4d0-82142dcab6ed","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"destination":{"id":"ba4b005e-09fd-34fe-83dd-8b99e89b6301","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"e26f4d10-2960-3268-b1e1-8a1ac01bdb75","name":"","source":{"id":"4e6eee23-aa9a-328b-a4d0-82142dcab6ed","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"destination":{"id":"c95bf71a-cda2-30ad-af32-293180c072f4","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":1000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"1 hr","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"labels":[],"funnels":[{"identifier":"0900cabc-89fd-3012-b79e-0c346b6c5d2f","position":{"x":2200.0,"y":960.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"ba4b005e-09fd-34fe-83dd-8b99e89b6301","position":{"x":368.0,"y":1216.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","position":{"x":1688.0,"y":1280.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","position":{"x":1048.0,"y":680.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"KHIS Transmission To PG","comments":"","position":{"x":288.0,"y":808.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"048e5e18-efb9-34c9-a615-036a1d70bb09","name":"Avro To JSON","comments":"","position":{"x":1624.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"2b0e90a8-b99e-399a-8ea0-5f0005bd6863","record-reader":"fd9ec463-688f-34c2-942a-520961b9198e","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","name":"Return Doc","comments":"","position":{"x":312.0,"y":1352.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"32da8d61-3191-3b86-b664-3a945a963c99","name":"Get Info From Doc","comments":"","position":{"x":312.0,"y":560.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc_uuid":"$._id","doc":"$","Null Value Representation":"empty string","mcul_code":"$.fields.mculcode","chew_uuid":"$.fields.chu_uuid","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc_uuid":{"name":"doc_uuid","displayName":"doc_uuid","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"mcul_code":{"name":"mcul_code","displayName":"mcul_code","identifiesControllerService":false,"sensitive":false},"chew_uuid":{"name":"chew_uuid","displayName":"chew_uuid","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","name":"Count","comments":"","position":{"x":1624.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"record_count":"$[0].count","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"record_count":{"name":"record_count","displayName":"record_count","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","name":"Report Already Added To PG?","comments":"","position":{"x":960.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","not_added_to_pg":"${record_count:gt(0):not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"not_added_to_pg":{"name":"not_added_to_pg","displayName":"not_added_to_pg","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"1672ce65-bf39-33a1-b675-3c4e01331549","name":"Add Mime Type","comments":"","position":{"x":312.0,"y":1656.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","name":"Fetch Transmission Record Count","comments":"","position":{"x":968.0,"y":544.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"SELECT COUNT (*) FROM public.moh_515_khis_reports\nwhere doc_uuid='${doc_uuid}' and chew_uuid='${chew_uuid}' \nand mcul_code='${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"a972e705-f619-3d18-b695-6908dc219a78","name":"Save Doc In PG","comments":"","position":{"x":312.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"INSERT INTO public.moh_515_khis_reports(doc_uuid, chew_uuid, mcul_code, year, month) values ('${doc_uuid}', '${chew_uuid}', '${mcul_code}', '${year}', '${month}');","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"inputPorts":[{"identifier":"212bee84-afee-3e1d-9e92-f86d474cb8a3","name":"In","comments":"","position":{"x":368.0,"y":248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"outputPorts":[{"identifier":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","name":"Out","comments":"","position":{"x":968.0,"y":1688.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"connections":[{"identifier":"35e7924b-19c3-37d9-9304-8238380bbb95","name":"","source":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"2065dd32-6b39-3d73-99e7-6e6a2f037fa0","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"28e36a0d-e6dc-3dfb-a67b-f5631e0abc3a","name":"","source":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"destination":{"id":"e46e1c1c-4379-3127-88bd-49022e90e0eb","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"919be3b8-44a7-3ce8-b2b6-71c9547b17d6","name":"","source":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"dc10c39c-5965-3819-8974-f6d9ddfb7d01","name":"","source":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"destination":{"id":"057e0570-4295-354c-8ebd-6d71b77977e3","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"d27f7771-39fa-3263-b759-4221cfc1283e","name":"","source":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"destination":{"id":"1672ce65-bf39-33a1-b675-3c4e01331549","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Add Mime Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"b0e938fe-97b2-3b63-b194-8aac48c50418","name":"","source":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"destination":{"id":"1c5232da-7cc6-3677-98a2-97c8a3de7d4e","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8965677e-9fdd-3065-8f57-ff86b7b565f8","name":"","source":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"destination":{"id":"546597b1-db17-33aa-87dc-0828615126e9","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e5c2b6a1-6833-3772-882a-3ce3e4cabc0f","name":"","source":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"destination":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8628658f-a813-3bbd-82f5-418ccecd15da","name":"","source":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"destination":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"f7f95aa5-4813-3704-a161-262a892b1e5c","name":"","source":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"destination":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["not_added_to_pg"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"0da066a5-cb0b-3f74-9973-35e54e39098c","name":"","source":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"destination":{"id":"15e57276-d91e-35b9-ad49-3eec5adbb0df","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"dea26741-23f8-37e5-b9c6-b97928441d61","name":"","source":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"destination":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"f66c868f-074f-38c9-9c57-0d14cde19f3d","name":"","source":{"id":"1672ce65-bf39-33a1-b675-3c4e01331549","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Add Mime Type","comments":""},"destination":{"id":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","type":"OUTPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"c67a57a3-a665-3344-b5f0-e96f2f0f6fb4","name":"","source":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"destination":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":800.0,"y":616.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8173a330-a00f-34ec-9f11-76134ea8ae25","name":"","source":{"id":"e46e1c1c-4379-3127-88bd-49022e90e0eb","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"destination":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e090c557-0096-314a-b4fc-bf41d102c75a","name":"","source":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"destination":{"id":"c7c6397a-5a18-3bd2-8ae7-095ef2b5768f","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"51c0f70d-9d09-3570-b10b-4421325b9a81","name":"","source":{"id":"212bee84-afee-3e1d-9e92-f86d474cb8a3","type":"INPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"In","comments":""},"destination":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"labels":[],"funnels":[{"identifier":"057e0570-4295-354c-8ebd-6d71b77977e3","position":{"x":1776.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"15e57276-d91e-35b9-ad49-3eec5adbb0df","position":{"x":1776.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"c7c6397a-5a18-3bd2-8ae7-095ef2b5768f","position":{"x":-32.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e46e1c1c-4379-3127-88bd-49022e90e0eb","position":{"x":1112.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"546597b1-db17-33aa-87dc-0828615126e9","position":{"x":-32.0,"y":592.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"1c5232da-7cc6-3677-98a2-97c8a3de7d4e","position":{"x":-24.0,"y":1024.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"2065dd32-6b39-3d73-99e7-6e6a2f037fa0","position":{"x":1120.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"controllerServices":[{"identifier":"fd9ec463-688f-34c2-942a-520961b9198e","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"2b0e90a8-b99e-399a-8ea0-5f0005bd6863","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"e202b233-8572-388a-a808-c5e00813502a","name":"Trigger","comments":"","position":{"x":288.0,"y":232.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"602bea7f-ef76-3369-83dc-58f8be318e0b","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number","position":{"x":232.0,"y":1224.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#d60d0d"},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"Initiate","Batch Size":"1","Unique FlowFiles":"false","mime.type":"application/json","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"2 hrs","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"bc219235-c4d7-3644-b2a5-4d834cfd492a","name":"Transmit Only Within Date Range","comments":"","position":{"x":1530.4949376733437,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n\ndef transmissionStart = flowFile.getAttribute(\"transmission_start\");\ndef transmissionEnd = flowFile.getAttribute(\"transmission_end\");\n\ndef transmissionStartInt = Integer.parseInt(transmissionStart);\ndef transmissionEndInt = Integer.parseInt(transmissionEnd);\n\n\n// if in transmission window, pass as success\nif (isInTransmissionWindow(transmissionStartInt, transmissionEndInt)) {\n    session.transfer(flowFile, REL_SUCCESS)\n} else {\n    session.transfer(flowFile, REL_FAILURE)\n}\n\n// in window if date is within transmission range\ndef isInTransmissionWindow(transmissionStartInt, transmissionEndInt) {\n    def calendar = Calendar.getInstance();\n    def day = calendar.get(Calendar.DAY_OF_MONTH);\n\n    return day >= transmissionStartInt && day <= transmissionEndInt\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","name":"Update Transmission Date Ranges","comments":"","position":{"x":234.49493767334366,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"transmission_start":"2","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","transmission_end":"16","Stateful Variables Initial Value":null},"propertyDescriptors":{"transmission_start":{"name":"transmission_start","displayName":"transmission_start","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"transmission_end":{"name":"transmission_end","displayName":"transmission_end","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"d47acd2a-8505-33e9-ba07-ca06cecff26f","name":"Month & Year For Last Month's Cycle","comments":"","position":{"x":874.4949376733437,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\nimport java.text.SimpleDateFormat\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n// get last month's date\ndef calendar = Calendar.getInstance()\ncalendar.add(Calendar.MONTH, -1);\n\ndef year = calendar.get(Calendar.YEAR);\ndef month = new SimpleDateFormat(\"MMMM\").format(calendar.getTime());\n\n// set last month's month and year to attributes\nflowFile=session.putAttribute(flowFile, \"year\", \"$year\");\nflowFile=session.putAttribute(flowFile, \"month\", \"$month\");\n\n\nsession.transfer(flowFile, REL_SUCCESS)","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"f93bffd6-55bb-399d-82e3-176a403c84d4","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number","position":{"x":232.0,"y":520.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#d60d0d"},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"Initiate","Batch Size":"1","Unique FlowFiles":"false","mime.type":"application/json","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"1 hrs","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"inputPorts":[],"outputPorts":[{"identifier":"655fd118-3900-3879-b381-056bee05c8b3","name":"Out","comments":"","position":{"x":1584.0,"y":1200.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"connections":[{"identifier":"70a15a8a-3b45-32ae-a956-004cf74f4ef3","name":"","source":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"destination":{"id":"a60e970b-9c17-3231-9625-558d51af50a9","type":"FUNNEL","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"6b0eb8f8-c58b-380b-9001-8e729cef03ae","name":"","source":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"destination":{"id":"bc219235-c4d7-3644-b2a5-4d834cfd492a","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Transmit Only Within Date Range","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"53c2ffa7-ba98-3f23-9265-9f359e18a016","name":"","source":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"destination":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"603ecba8-d34f-3579-872b-ca0643f225a8","name":"","source":{"id":"bc219235-c4d7-3644-b2a5-4d834cfd492a","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"655fd118-3900-3879-b381-056bee05c8b3","type":"OUTPUT_PORT","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"7065d61b-54c1-3f9f-a3b3-6d9314a19f79","name":"","source":{"id":"f93bffd6-55bb-399d-82e3-176a403c84d4","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number"},"destination":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"8e37301f-51ca-3cd0-88ad-1dcaf5a513ae","name":"","source":{"id":"602bea7f-ef76-3369-83dc-58f8be318e0b","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number"},"destination":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"labels":[],"funnels":[{"identifier":"a60e970b-9c17-3231-9625-558d51af50a9","position":{"x":1024.0,"y":520.0},"componentType":"FUNNEL","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Save Transmitted Summaries To PG","comments":"","position":{"x":992.0,"y":224.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"0ba6affd-71c1-3506-9a76-78c33b26a866","name":"Insert Ticket record","comments":"","position":{"x":1176.0,"y":472.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"UPDATE moh_515_khis_reports SET date_submitted = '${now():format('YYYY-MM-dd HH:mm:ss')}', status = 'failed'\nWHERE doc_uuid = '${doc_uuid}' AND chew_uuid = '${chew_uuid}' AND mcul_code = '${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"3f6ac92a-4951-3566-8a85-f49ae18ac3bd","name":"Return Doc","comments":"","position":{"x":1672.0,"y":848.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"5f89607f-34c2-37e1-8451-e59476e290fe","name":"Insert Ticket record","comments":"","position":{"x":2144.0,"y":472.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"UPDATE moh_515_khis_reports SET date_submitted = '${now():format('YYYY-MM-dd HH:mm:ss')}', status = 'success'\nWHERE doc_uuid = '${doc_uuid}' AND chew_uuid = '${chew_uuid}' AND mcul_code = '${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"inputPorts":[{"identifier":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","name":"Success","comments":"","position":{"x":2200.0,"y":256.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"91c9f557-d19f-3498-8efd-c942f972536c","name":"Failure","comments":"","position":{"x":1232.0,"y":264.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"outputPorts":[{"identifier":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","name":"Output","comments":"","position":{"x":1728.0,"y":1096.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"connections":[{"identifier":"d136c6d2-aac4-3604-afbc-f05acd63eca5","name":"","source":{"id":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Success","comments":""},"destination":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"91c34bb5-ede4-3bc7-b57a-22b9578ea8bf","name":"","source":{"id":"5cdd586f-d422-3e17-b37f-ec646f98ce70","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"destination":{"id":"3f6ac92a-4951-3566-8a85-f49ae18ac3bd","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"9e659f76-fd1d-3d85-9abc-80ae9852039b","name":"","source":{"id":"91c9f557-d19f-3498-8efd-c942f972536c","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Failure","comments":""},"destination":{"id":"0ba6affd-71c1-3506-9a76-78c33b26a866","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"9381cc38-4413-3e3b-8280-e05605096385","name":"","source":{"id":"3f6ac92a-4951-3566-8a85-f49ae18ac3bd","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"destination":{"id":"a82b3558-5800-31a1-b1a5-6760c268cb12","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"84a6f12f-3b64-3140-8fe4-49f45e7e4ed8","name":"","source":{"id":"0ba6affd-71c1-3506-9a76-78c33b26a866","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"36a2f8e9-0fb9-317b-95f8-933bc7bbf467","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"2e53441c-8381-3e48-937a-f137722d029d","name":"","source":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"5cdd586f-d422-3e17-b37f-ec646f98ce70","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"05bc7d8e-3ce6-3d7e-9f60-37f46854c41d","name":"","source":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"36a2f8e9-0fb9-317b-95f8-933bc7bbf467","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"0d1fcf36-ed58-33aa-82dc-204b7f09296e","name":"","source":{"id":"3f6ac92a-4951-3566-8a85-f49ae18ac3bd","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"destination":{"id":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","type":"OUTPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Output","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"68dedcf6-9ce5-3bb9-84cf-f17a54d568f2","name":"","source":{"id":"0ba6affd-71c1-3506-9a76-78c33b26a866","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"5cdd586f-d422-3e17-b37f-ec646f98ce70","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"labels":[],"funnels":[{"identifier":"a82b3558-5800-31a1-b1a5-6760c268cb12","position":{"x":2288.0,"y":888.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"5cdd586f-d422-3e17-b37f-ec646f98ce70","position":{"x":1824.0,"y":688.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"36a2f8e9-0fb9-317b-95f8-933bc7bbf467","position":{"x":1824.0,"y":512.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"3e177028-423a-3634-9550-3f450e847df4","name":"Get Verified Docs","comments":"","position":{"x":288.0,"y":528.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"e4940a02-b329-3fd0-a177-ddebc921a763","name":"GetDocumentCount","comments":"","position":{"x":1344.0,"y":128.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","doc_count":"$.rows.length()","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"doc_count":{"name":"doc_count","displayName":"doc_count","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"a7e83c85-c616-3b12-83a3-403f3bff1a13","name":"SplitJson","comments":"","position":{"x":1992.0,"y":504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.SplitJson","properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.rows.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","name":"RouteOnAttribute","comments":"","position":{"x":1992.0,"y":136.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","has_docs":"${doc_count:gt(0)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"has_docs":{"name":"has_docs","displayName":"has_docs","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"a249f227-fbf0-39c7-af07-b1e75a942e96","name":"JoltTransformJSON","comments":"","position":{"x":1344.0,"y":504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"value\": {\n        \"*\": \"&\"\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"38664a68-565a-3e97-aa22-d4daeecb7d05","name":"HTTPCouchDB","comments":"","position":{"x":712.0,"y":136.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#4b467d"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"true","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"600 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"true","Follow Redirects":"True","Remote URL":"https://vihiga-production-go-ke.lg-apps.com/medic/_design/medic-moh-515/_view/moh-515-summary-offline-sub_county_supervisor-verified?startkey=[\"${year}\",\"${month}\"]&endkey=[\"${year}\",\"${month}\",{}]","Content-Type":"${mime.type}","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"1050 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","Basic Authentication Username":"rmayore","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1000,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"inputPorts":[{"identifier":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","name":"In","comments":"","position":{"x":768.0,"y":-144.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"outputPorts":[{"identifier":"7914081e-1f06-32c5-87d7-ba69510fb606","name":"Out","comments":"","position":{"x":760.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"connections":[{"identifier":"4ff1ccc4-4cd4-30d9-bbc0-cb9855062ccb","name":"","source":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"destination":{"id":"116f224c-c4b8-3148-9245-8ed15c4c238c","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"292f5dea-d8a3-3a5c-beaa-8c8ef345d613","name":"","source":{"id":"38664a68-565a-3e97-aa22-d4daeecb7d05","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"38664a68-565a-3e97-aa22-d4daeecb7d05","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":502.9158935546875,"y":118.91584777832031},{"x":558.9158935546875,"y":54.91584777832031}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"ee672dff-8098-318b-88fb-9b0af296a7f5","name":"No Docs","source":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"destination":{"id":"7f0f5fbe-68a1-399d-8ab0-ab110004d870","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"0c1873f5-4b22-3420-aa39-94a850dbd67f","name":"","source":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"destination":{"id":"8a014049-0e1f-3fea-9a43-35b64ccdfa50","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"92ab4093-3ab1-3288-add3-79ff062de4b7","name":"","source":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"destination":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"68099de6-170e-36bc-9efc-b65f0c037648","name":"","source":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"destination":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c03c6381-e3f3-3d78-b6c6-fd91c30de167","name":"","source":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"destination":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["has_docs"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"205df8d2-4675-3fdb-af71-004748f0d354","name":"","source":{"id":"38664a68-565a-3e97-aa22-d4daeecb7d05","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"f4c3fff3-0f4c-3946-9512-89fd9f548892","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c15f87d3-cfa2-39df-916e-44246226b7df","name":"","source":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"destination":{"id":"c8762e84-eb3d-31af-beee-79cec1581ddf","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"b6351be1-d958-37d9-8b73-80f4f3def6e5","name":"","source":{"id":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","type":"INPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"In","comments":""},"destination":{"id":"38664a68-565a-3e97-aa22-d4daeecb7d05","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"b5c5e4f0-4c16-3e22-8d4d-c34eada2bc3e","name":"","source":{"id":"38664a68-565a-3e97-aa22-d4daeecb7d05","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"e93939d1-a219-3dd2-9195-8504745f8990","name":"","source":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"destination":{"id":"7914081e-1f06-32c5-87d7-ba69510fb606","type":"OUTPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"labels":[],"funnels":[{"identifier":"116f224c-c4b8-3148-9245-8ed15c4c238c","position":{"x":1496.0,"y":-144.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c8762e84-eb3d-31af-beee-79cec1581ddf","position":{"x":2144.0,"y":832.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"8a014049-0e1f-3fea-9a43-35b64ccdfa50","position":{"x":1496.0,"y":832.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"f4c3fff3-0f4c-3946-9512-89fd9f548892","position":{"x":864.0,"y":400.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"7f0f5fbe-68a1-399d-8ab0-ab110004d870","position":{"x":2144.0,"y":-144.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"57d39bb2-ffc1-3cc1-960f-d34fbf131ea8","name":"","source":{"id":"655fd118-3900-3879-b381-056bee05c8b3","type":"OUTPUT_PORT","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Out","comments":""},"destination":{"id":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","type":"INPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"e37c66b0-ce04-37b6-b1ed-4415995bd6e4","name":"","source":{"id":"85b6204e-a402-3e98-b761-e29b9131b741","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Success","comments":""},"destination":{"id":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Success","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"bcc1bc50-cdd3-3b02-8376-033b19ffb026","name":"","source":{"id":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","type":"OUTPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Out","comments":""},"destination":{"id":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","type":"INPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"8d616b11-2fc5-39a4-8569-de5939c92dd4","name":"","source":{"id":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","type":"OUTPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Output","comments":""},"destination":{"id":"9a7727a4-1716-3a27-9614-f123aca1616a","type":"FUNNEL","groupId":"50f277e9-db5c-385a-affd-ec331e19d27e","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"2722c3b2-92a5-3c47-9c8f-d863ae822f33","name":"","source":{"id":"7914081e-1f06-32c5-87d7-ba69510fb606","type":"OUTPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Out","comments":""},"destination":{"id":"212bee84-afee-3e1d-9e92-f86d474cb8a3","type":"INPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"aa885eec-aa75-3251-8f44-cfdb16c977fd","name":"","source":{"id":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","type":"OUTPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Out","comments":""},"destination":{"id":"4e581063-056f-3e2a-b5bb-46e99f66a8de","type":"INPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"},{"identifier":"c34fb499-1642-37f4-a75d-cc60c4d9ec00","name":"","source":{"id":"c273f913-6871-3252-add7-58ecdc0d4ca5","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Failure","comments":""},"destination":{"id":"91c9f557-d19f-3498-8efd-c942f972536c","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Failure","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":920.0,"y":472.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"}],"labels":[],"funnels":[{"identifier":"9a7727a4-1716-3a27-9614-f123aca1616a","position":{"x":1160.0,"y":0.0},"componentType":"FUNNEL","groupIdentifier":"50f277e9-db5c-385a-affd-ec331e19d27e"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"38e5ec21-e3ea-3ec2-83d8-0fd68e4f46c0"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"0342be20-8b97-32e7-98d2-7c11cb2d5b42"},{"identifier":"5c9b02a1-bd9f-38b6-a227-719ea7df4537","name":"Vihiga KHIS Transmission - Test","comments":"","position":{"x":-2464.0,"y":-1184.0},"processGroups":[{"identifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5","name":"CouchDB To DHIS2: Verified MoH-515","comments":"","position":{"x":64.0,"y":288.0},"processGroups":[{"identifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Filter Docs Already Transmitted","comments":"","position":{"x":984.0,"y":808.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"2db34ade-7ead-33a8-aa15-2fe161add2bd","name":"Count","comments":"","position":{"x":1624.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"record_count":"$[0].count","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"record_count":{"name":"record_count","displayName":"record_count","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","name":"Avro To JSON","comments":"","position":{"x":1624.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"356056fa-b7d6-3ea5-957f-7813e99a336f","record-reader":"b8ae207f-9093-358e-ab04-6e8946636866","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","name":"Return Doc","comments":"","position":{"x":304.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"1c797339-3b1f-37d8-994f-fa585b715b24","name":"Add Mime Type","comments":"","position":{"x":304.0,"y":1256.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","name":"Fetch Transmission Record Count","comments":"","position":{"x":960.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"SELECT COUNT (*) FROM public.moh_515_khis_reports \nwhere doc_uuid='${doc_uuid}' and chew_uuid='${chew_uuid}' \nand mcul_code='${mcul_code}' and date_submitted IS NOT NULL\nand status = 'success'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"6af829a9-7224-39e3-bc5a-6666c6fefc26","name":"Report Already Transmitted?","comments":"","position":{"x":960.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","not_transmitted":"${record_count:gt(0):not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"not_transmitted":{"name":"not_transmitted","displayName":"not_transmitted","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"2f438fd3-5691-3f0a-93a4-868414131bff","name":"Get Info From Doc","comments":"","position":{"x":304.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc":"$","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"inputPorts":[{"identifier":"4e581063-056f-3e2a-b5bb-46e99f66a8de","name":"In","comments":"","position":{"x":360.0,"y":248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"outputPorts":[{"identifier":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","name":"Out","comments":"","position":{"x":360.0,"y":1512.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"connections":[{"identifier":"e973062e-c6fa-3155-b852-4b738c3c41e6","name":"","source":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c42bb21c-0b5f-3e0b-ab5e-04b041cd61f1","name":"","source":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"destination":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":800.0,"y":616.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"54d7670b-1447-3e34-bcd9-43b94c6ac4bf","name":"","source":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"destination":{"id":"7d0aeb14-dddf-376f-a0c5-bde90524891b","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"09ffa7cd-b607-3b73-8b0c-95d5a93b7c55","name":"","source":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"destination":{"id":"1c797339-3b1f-37d8-994f-fa585b715b24","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Add Mime Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c4c955af-ce1f-348b-94d7-17b49400ef29","name":"","source":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"destination":{"id":"155cc8c0-a30d-3fb1-80ab-ee1b10458ef3","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a4274f0b-f3fc-3cda-b8ff-d9b68f7ae3b9","name":"","source":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"destination":{"id":"c011c284-6fa1-3e85-9fe7-d66f9f061f4a","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"f7eb36d0-68af-33d5-8f17-5904a829a1ec","name":"","source":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"destination":{"id":"58c649ff-7ba5-33e6-88e5-4d4929ceaeb2","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"4a87e3d0-a2ca-390a-84e2-ad65aaa3c74a","name":"","source":{"id":"5b40eac9-d3e1-32e1-a2cb-b599a9a32e76","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"a5045ec2-30a5-3fab-b36a-b9f09eb508ac","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"660640b1-6155-3e14-92fa-15ccb2d34f83","name":"","source":{"id":"1c797339-3b1f-37d8-994f-fa585b715b24","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Add Mime Type","comments":""},"destination":{"id":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","type":"OUTPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"0d71902f-4d7d-368f-b7fc-c0e4cf9d59c3","name":"","source":{"id":"5fc174aa-fef2-35d8-a0d6-e2e8a77962c8","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Avro To JSON","comments":""},"destination":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"32d64b9e-45fc-3b96-8305-bf6ee583cfbb","name":"","source":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"destination":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c3a73703-f88e-385e-81d7-c8a8558beac4","name":"","source":{"id":"2db34ade-7ead-33a8-aa15-2fe161add2bd","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Count","comments":""},"destination":{"id":"24f920df-7eb9-3571-846d-3568ff39a517","type":"FUNNEL","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"3b36f4bd-83a9-3953-bf3c-c4073eddd46f","name":"","source":{"id":"4e581063-056f-3e2a-b5bb-46e99f66a8de","type":"INPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"In","comments":""},"destination":{"id":"2f438fd3-5691-3f0a-93a4-868414131bff","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c8a9a29e-8851-3450-a231-e4d5cff2a815","name":"","source":{"id":"6af829a9-7224-39e3-bc5a-6666c6fefc26","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Report Already Transmitted?","comments":""},"destination":{"id":"a1ea882f-5b20-3c91-9b2f-69f0a4483f4c","type":"PROCESSOR","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["not_transmitted"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"labels":[],"funnels":[{"identifier":"58c649ff-7ba5-33e6-88e5-4d4929ceaeb2","position":{"x":1112.0,"y":1360.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"24f920df-7eb9-3571-846d-3568ff39a517","position":{"x":1776.0,"y":1360.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"7d0aeb14-dddf-376f-a0c5-bde90524891b","position":{"x":1776.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"a5045ec2-30a5-3fab-b36a-b9f09eb508ac","position":{"x":1112.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"155cc8c0-a30d-3fb1-80ab-ee1b10458ef3","position":{"x":-32.0,"y":592.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"c011c284-6fa1-3e85-9fe7-d66f9f061f4a","position":{"x":-24.0,"y":1024.0},"componentType":"FUNNEL","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"controllerServices":[{"identifier":"b8ae207f-9093-358e-ab04-6e8946636866","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"},{"identifier":"356056fa-b7d6-3ea5-957f-7813e99a336f","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"f4cfdae1-6afb-3c36-9914-5ccc0e797303"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit To DHIS2","comments":"","position":{"x":984.0,"y":536.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"de244852-cf5b-391c-a164-e8f2b8b689ca","name":"JoltTransformJSON","comments":"","position":{"x":896.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"fields\": {\n\t\t  \"new_count_total_households\": \"rdcZ1ni3jrD\",\n\t\t  \"new_count_u5_malaria_rdt_positive_treated_act\": \"V9SqzZHKoP7\",\n          \"new_count_over_5yrs_fever_7days_less_rdt_done\": \"ZAsCMIJLkvj\",\n          \"new_count_u5_fever_7days_less_rdt_done\": \"RXgNfdYSJPh\",\n          \"new_count_new_born_visited_48hrs_after_birth\": \"NjcDm9nopWu\",\n          \"new_count_elderly_checkups_reaching_facility\": \"ylvw7Y1OB1H\",\n          \"new_count_community_events_monthly_meetings\": \"aod6Gz2QUg2\",\n          \"new_count_u5_fever_7days_less_rdt_positive\": \"eUakxWsxkcq\",\n          \"new_count_community_events_action_days\": \"ybfaTwL9yBA\",\n          \"new_count_new_deliveries_at_home\": \"X9d8oaBHDqx\",\n          \"new_count_defaulter_art\": \"iJpuwr4Hqj1\",                     \n          \"new_count_households_with_functional_latrines\": \"b16FHzbfVUe\",\n          \"new_count_new_deliveries_at_facility\": \"fdsnixQkKCY\",   \n          \"new_count_presumptive_bacteriologically_tb_referred\": \"siQaAwG3fiQ\",\n          \"new_count_u5_iz_defaulters_referred\": \"KHfPfnhSjmA\", \n          \"new_count_bacteriologically_tb_confirmed\": \"HHyDcD7IjqT\",\n          \"new_count_u5_isoniazid_therapy_reaching_facility\": \"RlDNgxU0gn3\",\n          \"new_count_women_counselled_on_anc\": \"LHd6A9RtHRF\",\n          \"new_count_women_15_49yrs_counselled_on_fp\": \"qNoOzWtEpuD\",\n          \"new_count_infant_deaths_29dy_11mo\": \"I9yVwu1FWu6\",\n          \"new_count_u5_fever_7days_less\": \"gpYrkLhO4wB\",\n          \"new_count_households_with_refuse_disposal_facility\": \"lhkXObzaWr3\",\n          \"new_count_women_15_49yrs_given_family_planning\": \"bbrNRV9zwVa\",\n          \"new_count_referred_vitamin_a_children_u5\": \"ksINuMMr419\",\n          \"new_count_households_visited\": \"LGsW5FyZFwZ\",\n          \"new_count_underage_deliveries\": \"vB85yqSN4gx\",\n          \"new_count_households_with_uptodate_insurance_others\": \"KiKtdZ5rV5d\",\n          \"new_count_mental_illness\": \"d0XSdWwIlCU\",\n          \"new_count_2_59m_fast_breathing_treated_amox\": \"wMQolZyIR5P\",\n          \"new_count_post_natal_reaching_facility\": \"vyCCWAqAP5x\",\n          \"new_count_referred_hct\": \"zbYf5G3P7Fv\",     \n          \"new_count_underage_pregnancies\": \"h9VcGyaQkfZ\",\n          \"new_count_u5_tb_reffered_ipt\": \"RhriKmKbHuH\",\n          \"new_count_cancer\": \"SnP5Qr06tLy\",\n          \"new_count_households_using_treated_water\": \"OXgWwVp4SLi\",\n          \"new_count_new_deliveries_at_cu\": \"jx879BUZ39L\",\n          \"new_count_households_with_uptodate_insurance_uhc\": \"d0zEtbkJnel\",\n          \"new_count_screened_for_tb\": \"NjCLHbMeaNw\",\n          \"new_count_households_with_hand_washing_facilities\": \"zhwGF3FDj8B\",\n          \"new_count_presumptive_tb_contacts_reaching_facility\": \"Qr3F0zbsMmN\",\n          \"new_count_fp_services_reaching_facility\": \"RivX8a7SDU3\",\n          \"new_count_2_59m_diarrhoea_cases\": \"V00z4bQRaqe\",\n          \"new_count_mothers_visited_48hrs\": \"tuIDKhqDdcB\",\n          \"new_count_over_5yrs_fever_7days_less\": \"YCWGGPn7tdl\",\n          \"new_count_art_defaulters_traced_and_referred\": \"q90IMsLpFO4\",\n          \"new_count_malaria_over5_mrtd_positive_act_treated\": \"oVxxa344TPs\",\n          \"new_count_pregnant_women_referred\": \"VrpxWLhfIr6\",      \n          \"new_count_community_events_dialogue_days\": \"Y0ZpWnkp4v9\",\n          \"new_count_diabetes\": \"umcBUHyhuTc\",\n          \"new_count_tb_interrupters_reaching_facility\": \"RKBTMciF0Tk\",   \n          \"new_count_presumptive_tb_persons_referred\": \"eLMPka37L2p\",\n          \"new_count_deaths_6_59yrs_non_maternal\": \"jBYvAmDdyfY\",\n          \"new_count_6_59m_children_muac_red\": \"idiiaWIh2qi\",\n          \"new_count_infant_deaths_12_59mo\": \"sXPwrF8r04E\",\n          \"new_count_households_routine_visists\": \"vGvOtbvhclF\",\n          \"new_count_6_59m_children_muac_yellow\": \"ekh0oJidJ38\",\n          \"new_count_children_delayed_development\": \"dmU5MIrpsP7\",\n          \"new_count_deaths_60yrs_above\": \"zW17XEoFhAN\",\n          \"new_count_women_15_49yrs_referred_for_fp\": \"TLKNYG2xGad\",\n          \"new_count_children__u5_dewormed\": \"vAkP6k0yZDk\",\n          \"new_count_iz_defaulters_reaching_facility\": \"XDgpSRb8Ofv\", \n          \"new_count_hiv_testing_reaching_facility\": \"QAKpLg7iZEJ\",\n          \"new_count_art_defaulters_reaching_facility\": \"TfmOlLMrQc6\",\n          \"new_count_infant_deaths_0_28dys\": \"bWTVzXQoxpt\",\n          \"new_count_hiv_exposed_infant_defaulter_reaching_facility\": \"yHBk3iXClvx\",     \n          \"new_count_home_deliveries_referred_for_pnc\": \"JrdSl1ADdBC\",\n          \"new_count_over_5yrs_fever_7days_less_rdt_positive\": \"QfBRPj1q0W1\",\n          \"new_count_households_visited_with_insurance\": \"z9qwgod3UiG\",\n          \"new_count_pregnant_women\": \"NvUUbEhFVcO\",\n          \"new_count_hypertension\": \"v9HafndlV8q\",\n          \"new_count_tb_interrupters\": \"XP1JclLpKdP\",\n          \"new_count_diarrhoea_u5_treated\": \"AR3WCfcKDwX\",           \n          \"new_count_tb_interrupters_traced\": \"mOoe88OmCct\",\n          \"new_count_referred_elderly_geriatric_services\": \"hYPcrC46URl\",\n          \"new_count_households_with_uptodate_insurance_nhif\": \"xXhZ15pqy4p\",\n          \"new_count_referred_immunization_children_under_12m\": \"ZkAL6i7sS2S\",\n          \"new_count_2_59m_with_fast_breathing\": \"WBTvg49kJHr\",\n          \"new_count_exposed_infant_defaulters\": \"r1ed7zn2Q0a\",\n          \"new_count_presumptive_tb_cases_reaching_facility\": \"HC2a1iMVGPv\",\n          \"new_count_maternal_deaths\": \"Gx1XLLsvwAZ\",\n          \"new_count_exposed_infants_defaulters_traced_referred\": \"rdJBPSOGJlA\",\n          \"new_count_pregnant_women_reaching_facility\": \"wYD1JE3Tgsu\",\n          \"mculcode\": \"mculcode\",\n          \"month\": \"month\",\n          \"year\": \"year\"\n        }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"mculcode\": {\n        \"@\": \"orgUnit\"\n      },\n      \"month\": \"month\",\n      \"year\": \"year\",\n      \"branch_uuid\": \"branch_uuid\",\n      \"*\": {\n        \"@\": \"dataValues[].&1\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"dataValues\": {\n        \"*\": {\n          \"*\": {\n            \"@\": \"dataValues[&2].value\",\n            \"$\": \"dataValues[&2].dataElement\"\n          }\n        }\n      },\n      \"*\": \"&\"\n    }\n  },\n\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"dataSet\": \"ovtKPo15xAg\",\n      \"completeDate\": \"${now():format('yyyy-MM-dd')}\",\n      \"period\": \"${period}\"\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"dataValues\": {\n        \"*\": {\n          \"categoryOptionCombo\": \"NhSoXUMPK2K \"\n        }\n      }\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"02d7d1f0-70c0-39b2-9580-c8754fc92769","name":"InvokeHTTPHIS LIve","comments":"","position":{"x":1536.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"55 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"10 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://test.hiskenya.org/api/dataValueSets?orgUnitIdScheme=CODE","Content-Type":"${mime.type}","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"75 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Basic Authentication Username":"LGoods","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"2 mins","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"7e867831-3890-33a2-a373-4f5b0e8b459c","name":"Get Info From Doc","comments":"","position":{"x":896.0,"y":1176.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc":"$","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"eeb462a4-e047-3615-87e6-3f3b52091a8a","name":"Transmit Only Within Date Range","comments":"","position":{"x":232.0,"y":640.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n\ndef transmissionStart = flowFile.getAttribute(\"transmission_start\");\ndef transmissionEnd = flowFile.getAttribute(\"transmission_end\");\n\ndef transmissionStartInt = Integer.parseInt(transmissionStart);\ndef transmissionEndInt = Integer.parseInt(transmissionEnd);\n\n\n// if in transmission window, pass as success\nif (isInTransmissionWindow(transmissionStartInt, transmissionEndInt)) {\n    session.transfer(flowFile, REL_SUCCESS)\n} else {\n    session.transfer(flowFile, REL_FAILURE)\n}\n\n// in window if date is within transmission range\ndef isInTransmissionWindow(transmissionStartInt, transmissionEndInt) {\n    def calendar = Calendar.getInstance();\n    def day = calendar.get(Calendar.DAY_OF_MONTH);\n\n    return day >= transmissionStartInt && day <= transmissionEndInt\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"181fb60e-8bbf-3d78-a15b-534a51788990","name":"Add Period & Data Type","comments":"","position":{"x":232.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"period":"${year:append(${month:toDate('MMMMM'):format('MM')})}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","data_type":"moh_515_aggregate_approved","Stateful Variables Initial Value":null},"propertyDescriptors":{"period":{"name":"period","displayName":"period","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"data_type":{"name":"data_type","displayName":"data_type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"inputPorts":[{"identifier":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","name":"In","comments":"","position":{"x":288.0,"y":448.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"outputPorts":[{"identifier":"d19e7eef-8e6e-3d95-b9e1-c6e215f76746","name":"Failure","comments":"","position":{"x":2080.0,"y":1272.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"85b6204e-a402-3e98-b761-e29b9131b741","name":"Success","comments":"","position":{"x":1592.0,"y":680.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"connections":[{"identifier":"ffb5cde0-7f94-3463-a4fa-b7a29108d642","name":"","source":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"181fb60e-8bbf-3d78-a15b-534a51788990","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Add Period & Data Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"efaef14e-e780-33d1-a6a3-f368a69908f6","name":"","source":{"id":"02d7d1f0-70c0-39b2-9580-c8754fc92769","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"0900cabc-89fd-3012-b79e-0c346b6c5d2f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"5e19958e-bf46-3191-83d7-d6bea5af656e","name":"","source":{"id":"7e867831-3890-33a2-a373-4f5b0e8b459c","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"destination":{"id":"33fcd575-c9df-3af6-a9e2-03d6ae51b488","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"0e2d05d0-1428-3ea0-b48d-7aaef33f8286","name":"","source":{"id":"02d7d1f0-70c0-39b2-9580-c8754fc92769","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"85b6204e-a402-3e98-b761-e29b9131b741","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Success","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"d78d9815-10c0-3dcd-9d50-62b54dc529e9","name":"","source":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"destination":{"id":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"46b41aaf-9fcd-351b-9ca3-67a2ba47e646","name":"","source":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"destination":{"id":"7e867831-3890-33a2-a373-4f5b0e8b459c","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"a707a03d-d77b-34d9-9872-bcd5178e79f2","name":"","source":{"id":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","type":"INPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"In","comments":""},"destination":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"54ac418b-311b-357b-bfe3-675d0b6da2c6","name":"","source":{"id":"eeb462a4-e047-3615-87e6-3f3b52091a8a","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"74fbac0d-241b-37ae-b85f-da42d3ccc67d","name":"","source":{"id":"181fb60e-8bbf-3d78-a15b-534a51788990","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Add Period & Data Type","comments":""},"destination":{"id":"de244852-cf5b-391c-a164-e8f2b8b689ca","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"3ce276fb-da68-38a4-a1fe-5ead60708080","name":"","source":{"id":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"destination":{"id":"d19e7eef-8e6e-3d95-b9e1-c6e215f76746","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Failure","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"ce78940c-f461-3542-8c09-abf3dda8478d","name":"","source":{"id":"de02a81c-eddd-3b50-b0ac-511e354af60e","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"destination":{"id":"181fb60e-8bbf-3d78-a15b-534a51788990","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Add Period & Data Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"adee75e2-96e7-3ba7-b913-b4155d8ef675","name":"","source":{"id":"02d7d1f0-70c0-39b2-9580-c8754fc92769","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"destination":{"id":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"b6069d88-a7c0-3098-a701-dbcd02e6284f","name":"","source":{"id":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","type":"INPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"In","comments":""},"destination":{"id":"de02a81c-eddd-3b50-b0ac-511e354af60e","type":"FUNNEL","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"4353bcf5-10d3-32a4-b92c-46f18b1f163e","name":"","source":{"id":"7e867831-3890-33a2-a373-4f5b0e8b459c","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Get Info From Doc","comments":""},"destination":{"id":"02d7d1f0-70c0-39b2-9580-c8754fc92769","type":"PROCESSOR","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"InvokeHTTPHIS LIve","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"10 mins","prioritizers":["org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer"],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"labels":[],"funnels":[{"identifier":"0900cabc-89fd-3012-b79e-0c346b6c5d2f","position":{"x":2200.0,"y":960.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"de02a81c-eddd-3b50-b0ac-511e354af60e","position":{"x":-69.43395490036107,"y":727.764871859456},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"0cdf5e14-c2da-3507-983f-d11d8bf1303f","position":{"x":1688.0,"y":1280.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"3a7b66ac-7f07-30f6-9b3b-33205c16eab6","position":{"x":1048.0,"y":680.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"},{"identifier":"33fcd575-c9df-3af6-a9e2-03d6ae51b488","position":{"x":368.0,"y":1216.0},"componentType":"FUNNEL","groupIdentifier":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"KHIS Transmission To PG","comments":"","position":{"x":288.0,"y":808.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"048e5e18-efb9-34c9-a615-036a1d70bb09","name":"Avro To JSON","comments":"","position":{"x":1624.0,"y":552.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"2b0e90a8-b99e-399a-8ea0-5f0005bd6863","record-reader":"fd9ec463-688f-34c2-942a-520961b9198e","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8d9bd7ef-df80-3847-bc78-26d8466242a4","name":"Add Mime Type","comments":"","position":{"x":312.0,"y":1656.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","name":"Return Doc","comments":"","position":{"x":312.0,"y":1352.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"32da8d61-3191-3b86-b664-3a945a963c99","name":"Get Info From Doc","comments":"","position":{"x":312.0,"y":560.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","Return Type":"json","doc_uuid":"$._id","doc":"$","Null Value Representation":"empty string","mcul_code":"$.fields.mculcode","chew_uuid":"$.fields.chu_uuid","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"doc_uuid":{"name":"doc_uuid","displayName":"doc_uuid","identifiesControllerService":false,"sensitive":false},"doc":{"name":"doc","displayName":"doc","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"mcul_code":{"name":"mcul_code","displayName":"mcul_code","identifiesControllerService":false,"sensitive":false},"chew_uuid":{"name":"chew_uuid","displayName":"chew_uuid","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","name":"Report Already Added To PG?","comments":"","position":{"x":960.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","not_added_to_pg":"${record_count:gt(0):not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"not_added_to_pg":{"name":"not_added_to_pg","displayName":"not_added_to_pg","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":20,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","name":"Count","comments":"","position":{"x":1624.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"record_count":"$[0].count","Destination":"flowfile-attribute","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"record_count":{"name":"record_count","displayName":"record_count","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","name":"Fetch Transmission Record Count","comments":"","position":{"x":968.0,"y":544.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"SELECT COUNT (*) FROM public.moh_515_khis_reports_test\nwhere doc_uuid='${doc_uuid}' and chew_uuid='${chew_uuid}' \nand mcul_code='${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"a972e705-f619-3d18-b695-6908dc219a78","name":"Save Doc In PG","comments":"","position":{"x":312.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"INSERT INTO public.moh_515_khis_reports_test(doc_uuid, chew_uuid, mcul_code, year, month) values ('${doc_uuid}', '${chew_uuid}', '${mcul_code}', '${year}', '${month}');","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"inputPorts":[{"identifier":"212bee84-afee-3e1d-9e92-f86d474cb8a3","name":"In","comments":"","position":{"x":368.0,"y":248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"outputPorts":[{"identifier":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","name":"Out","comments":"","position":{"x":968.0,"y":1688.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"connections":[{"identifier":"35e7924b-19c3-37d9-9304-8238380bbb95","name":"","source":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"2065dd32-6b39-3d73-99e7-6e6a2f037fa0","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"28e36a0d-e6dc-3dfb-a67b-f5631e0abc3a","name":"","source":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"destination":{"id":"e46e1c1c-4379-3127-88bd-49022e90e0eb","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"62c8bc34-6bb6-345f-ad9f-a923a9657f8e","name":"","source":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"destination":{"id":"8d9bd7ef-df80-3847-bc78-26d8466242a4","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Add Mime Type","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"919be3b8-44a7-3ce8-b2b6-71c9547b17d6","name":"","source":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"destination":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"dc10c39c-5965-3819-8974-f6d9ddfb7d01","name":"","source":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"destination":{"id":"057e0570-4295-354c-8ebd-6d71b77977e3","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"b0e938fe-97b2-3b63-b194-8aac48c50418","name":"","source":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"destination":{"id":"1c5232da-7cc6-3677-98a2-97c8a3de7d4e","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e5c2b6a1-6833-3772-882a-3ce3e4cabc0f","name":"","source":{"id":"048e5e18-efb9-34c9-a615-036a1d70bb09","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Avro To JSON","comments":""},"destination":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8965677e-9fdd-3065-8f57-ff86b7b565f8","name":"","source":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"destination":{"id":"546597b1-db17-33aa-87dc-0828615126e9","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8628658f-a813-3bbd-82f5-418ccecd15da","name":"","source":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"destination":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"f7f95aa5-4813-3704-a161-262a892b1e5c","name":"","source":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"destination":{"id":"a972e705-f619-3d18-b695-6908dc219a78","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Save Doc In PG","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["not_added_to_pg"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"53419f79-a966-3949-b1fe-1a2bf6262f41","name":"","source":{"id":"8d9bd7ef-df80-3847-bc78-26d8466242a4","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Add Mime Type","comments":""},"destination":{"id":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","type":"OUTPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"0da066a5-cb0b-3f74-9973-35e54e39098c","name":"","source":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"destination":{"id":"15e57276-d91e-35b9-ad49-3eec5adbb0df","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"dea26741-23f8-37e5-b9c6-b97928441d61","name":"","source":{"id":"ea86f02f-8318-3022-8e3b-7a1b0605ad35","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Count","comments":""},"destination":{"id":"cf8ac456-1a65-3b9a-bb29-6c2ef1c6c2cd","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Report Already Added To PG?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"c67a57a3-a665-3344-b5f0-e96f2f0f6fb4","name":"","source":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"destination":{"id":"3c916c87-6ad8-3950-a3b8-a12fcc0dae57","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Fetch Transmission Record Count","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":800.0,"y":616.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"8173a330-a00f-34ec-9f11-76134ea8ae25","name":"","source":{"id":"e46e1c1c-4379-3127-88bd-49022e90e0eb","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"destination":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e090c557-0096-314a-b4fc-bf41d102c75a","name":"","source":{"id":"cc7b62b7-1580-3097-bfe0-294c5c1989c3","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Return Doc","comments":""},"destination":{"id":"c7c6397a-5a18-3bd2-8ae7-095ef2b5768f","type":"FUNNEL","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"51c0f70d-9d09-3570-b10b-4421325b9a81","name":"","source":{"id":"212bee84-afee-3e1d-9e92-f86d474cb8a3","type":"INPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"In","comments":""},"destination":{"id":"32da8d61-3191-3b86-b664-3a945a963c99","type":"PROCESSOR","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Get Info From Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"labels":[],"funnels":[{"identifier":"057e0570-4295-354c-8ebd-6d71b77977e3","position":{"x":1776.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"15e57276-d91e-35b9-ad49-3eec5adbb0df","position":{"x":1776.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"e46e1c1c-4379-3127-88bd-49022e90e0eb","position":{"x":1112.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"c7c6397a-5a18-3bd2-8ae7-095ef2b5768f","position":{"x":-32.0,"y":1392.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"546597b1-db17-33aa-87dc-0828615126e9","position":{"x":-32.0,"y":592.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"2065dd32-6b39-3d73-99e7-6e6a2f037fa0","position":{"x":1120.0,"y":248.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"1c5232da-7cc6-3677-98a2-97c8a3de7d4e","position":{"x":-24.0,"y":1024.0},"componentType":"FUNNEL","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"controllerServices":[{"identifier":"fd9ec463-688f-34c2-942a-520961b9198e","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"},{"identifier":"2b0e90a8-b99e-399a-8ea0-5f0005bd6863","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"832a0fdb-0e35-3909-b05b-6254af5a5140"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"e202b233-8572-388a-a808-c5e00813502a","name":"Trigger","comments":"","position":{"x":288.0,"y":232.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"602bea7f-ef76-3369-83dc-58f8be318e0b","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number","position":{"x":232.0,"y":1224.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#d60d0d"},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"Initiate","Batch Size":"1","Unique FlowFiles":"false","mime.type":"application/json","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"5 mins","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"bc219235-c4d7-3644-b2a5-4d834cfd492a","name":"Transmit Only Within Date Range","comments":"","position":{"x":1530.4949376733437,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n\ndef transmissionStart = flowFile.getAttribute(\"transmission_start\");\ndef transmissionEnd = flowFile.getAttribute(\"transmission_end\");\n\ndef transmissionStartInt = Integer.parseInt(transmissionStart);\ndef transmissionEndInt = Integer.parseInt(transmissionEnd);\n\n\n// if in transmission window, pass as success\nif (isInTransmissionWindow(transmissionStartInt, transmissionEndInt)) {\n    session.transfer(flowFile, REL_SUCCESS)\n} else {\n    session.transfer(flowFile, REL_FAILURE)\n}\n\n// in window if date is within transmission range\ndef isInTransmissionWindow(transmissionStartInt, transmissionEndInt) {\n    def calendar = Calendar.getInstance();\n    def day = calendar.get(Calendar.DAY_OF_MONTH);\n\n    return day >= transmissionStartInt && day <= transmissionEndInt\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","name":"Update Transmission Date Ranges","comments":"","position":{"x":234.49493767334366,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"transmission_start":"2","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","transmission_end":"16","Stateful Variables Initial Value":null},"propertyDescriptors":{"transmission_start":{"name":"transmission_start","displayName":"transmission_start","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"transmission_end":{"name":"transmission_end","displayName":"transmission_end","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"f93bffd6-55bb-399d-82e3-176a403c84d4","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number","position":{"x":232.0,"y":520.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#d60d0d"},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"Initiate","Batch Size":"1","Unique FlowFiles":"false","mime.type":"application/json","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"2 hrs","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"d47acd2a-8505-33e9-ba07-ca06cecff26f","name":"Month & Year For Last Month's Cycle","comments":"","position":{"x":874.4949376733437,"y":884.4902642451134},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import java.util.Calendar\nimport java.text.SimpleDateFormat\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n// get last month's date\ndef calendar = Calendar.getInstance()\ncalendar.add(Calendar.MONTH, -1);\n\ndef year = calendar.get(Calendar.YEAR);\ndef month = new SimpleDateFormat(\"MMMM\").format(calendar.getTime());\n\n// set last month's month and year to attributes\nflowFile=session.putAttribute(flowFile, \"year\", \"$year\");\nflowFile=session.putAttribute(flowFile, \"month\", \"$month\");\n\n\nsession.transfer(flowFile, REL_SUCCESS)","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"inputPorts":[],"outputPorts":[{"identifier":"655fd118-3900-3879-b381-056bee05c8b3","name":"Out","comments":"","position":{"x":1584.0,"y":1200.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"connections":[{"identifier":"70a15a8a-3b45-32ae-a956-004cf74f4ef3","name":"","source":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"destination":{"id":"a60e970b-9c17-3231-9625-558d51af50a9","type":"FUNNEL","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"6b0eb8f8-c58b-380b-9001-8e729cef03ae","name":"","source":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"destination":{"id":"bc219235-c4d7-3644-b2a5-4d834cfd492a","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Transmit Only Within Date Range","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"53c2ffa7-ba98-3f23-9265-9f359e18a016","name":"","source":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"destination":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"9e88e698-4bfe-35a7-97c4-d5decfdff5dd","name":"","source":{"id":"d47acd2a-8505-33e9-ba07-ca06cecff26f","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Month & Year For Last Month's Cycle","comments":""},"destination":{"id":"655fd118-3900-3879-b381-056bee05c8b3","type":"OUTPUT_PORT","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"7065d61b-54c1-3f9f-a3b3-6d9314a19f79","name":"","source":{"id":"f93bffd6-55bb-399d-82e3-176a403c84d4","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number"},"destination":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"603ecba8-d34f-3579-872b-ca0643f225a8","name":"","source":{"id":"bc219235-c4d7-3644-b2a5-4d834cfd492a","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Transmit Only Within Date Range","comments":""},"destination":{"id":"655fd118-3900-3879-b381-056bee05c8b3","type":"OUTPUT_PORT","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"},{"identifier":"8e37301f-51ca-3cd0-88ad-1dcaf5a513ae","name":"","source":{"id":"602bea7f-ef76-3369-83dc-58f8be318e0b","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Initiates Every Hour","comments":"Run Only Once with the Initial Sequence Number"},"destination":{"id":"74385c8c-2beb-33b5-b82c-96dc1b4dd245","type":"PROCESSOR","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Update Transmission Date Ranges","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"labels":[],"funnels":[{"identifier":"a60e970b-9c17-3231-9625-558d51af50a9","position":{"x":1024.0,"y":520.0},"componentType":"FUNNEL","groupIdentifier":"e202b233-8572-388a-a808-c5e00813502a"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Save Transmitted Summaries To PG","comments":"","position":{"x":992.0,"y":224.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1787cebe-68d9-3ea9-b8a4-99fc9a95388d","name":"Return Doc","comments":"","position":{"x":1672.0,"y":848.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${doc}","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"7575c49a-262f-351d-9276-b544283dc5ad","name":"Insert Ticket record","comments":"","position":{"x":1176.0,"y":472.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"UPDATE moh_515_khis_reports_test SET date_submitted = '${now():format('YYYY-MM-dd HH:mm:ss')}', status = 'failed'\nWHERE doc_uuid = '${doc_uuid}' AND chew_uuid = '${chew_uuid}' AND mcul_code = '${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"5f89607f-34c2-37e1-8451-e59476e290fe","name":"Insert Ticket record","comments":"","position":{"x":2144.0,"y":472.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"UPDATE moh_515_khis_reports_test SET date_submitted = '${now():format('YYYY-MM-dd HH:mm:ss')}', status = 'success'\nWHERE doc_uuid = '${doc_uuid}' AND chew_uuid = '${chew_uuid}' AND mcul_code = '${mcul_code}'","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"inputPorts":[{"identifier":"9f2d402a-73c4-38a3-acd7-e2d4263a535b","name":"Failure","comments":"","position":{"x":1232.0,"y":264.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","name":"Success","comments":"","position":{"x":2200.0,"y":256.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"outputPorts":[{"identifier":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","name":"Output","comments":"","position":{"x":1728.0,"y":1096.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"connections":[{"identifier":"d6cfaf9a-b048-3a46-b9cd-f80454adc535","name":"","source":{"id":"7b4e06a3-862b-37b7-9e38-41c76b4fd67b","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"destination":{"id":"1787cebe-68d9-3ea9-b8a4-99fc9a95388d","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"ec42730f-ef57-3e74-b9e6-5de7d6a326cf","name":"","source":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"0ac0b55f-e8ab-34b2-b5f5-987bdb24781a","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"67a0c7cf-1da3-34d0-ac8f-3963043edc2e","name":"","source":{"id":"1787cebe-68d9-3ea9-b8a4-99fc9a95388d","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"destination":{"id":"a82b3558-5800-31a1-b1a5-6760c268cb12","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"d136c6d2-aac4-3604-afbc-f05acd63eca5","name":"","source":{"id":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Success","comments":""},"destination":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"5d0f126d-b328-38e2-a10d-bb4d6425adaa","name":"","source":{"id":"5f89607f-34c2-37e1-8451-e59476e290fe","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"7b4e06a3-862b-37b7-9e38-41c76b4fd67b","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"d4d5af78-9497-3a87-aa24-f6b05dabf71f","name":"","source":{"id":"9f2d402a-73c4-38a3-acd7-e2d4263a535b","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Failure","comments":""},"destination":{"id":"7575c49a-262f-351d-9276-b544283dc5ad","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"4bb61d9d-c05b-32e9-90f1-56ff187a63ff","name":"","source":{"id":"7575c49a-262f-351d-9276-b544283dc5ad","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"7b4e06a3-862b-37b7-9e38-41c76b4fd67b","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"e23f37c6-1d50-3f98-b360-29dd7e22a382","name":"","source":{"id":"1787cebe-68d9-3ea9-b8a4-99fc9a95388d","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Return Doc","comments":""},"destination":{"id":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","type":"OUTPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Output","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"311b5928-4583-3df9-964d-cd7db9b92233","name":"","source":{"id":"7575c49a-262f-351d-9276-b544283dc5ad","type":"PROCESSOR","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Insert Ticket record","comments":""},"destination":{"id":"0ac0b55f-e8ab-34b2-b5f5-987bdb24781a","type":"FUNNEL","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"labels":[],"funnels":[{"identifier":"0ac0b55f-e8ab-34b2-b5f5-987bdb24781a","position":{"x":1824.0,"y":512.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"a82b3558-5800-31a1-b1a5-6760c268cb12","position":{"x":2288.0,"y":888.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"},{"identifier":"7b4e06a3-862b-37b7-9e38-41c76b4fd67b","position":{"x":1824.0,"y":688.0},"componentType":"FUNNEL","groupIdentifier":"6de969f1-846f-307e-ace5-ad0a1fcc31e5"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"3e177028-423a-3634-9550-3f450e847df4","name":"Get Verified Docs","comments":"","position":{"x":288.0,"y":528.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"e4940a02-b329-3fd0-a177-ddebc921a763","name":"GetDocumentCount","comments":"","position":{"x":1344.0,"y":136.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","doc_count":"$.rows.length()","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"doc_count":{"name":"doc_count","displayName":"doc_count","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"a7e83c85-c616-3b12-83a3-403f3bff1a13","name":"SplitJson","comments":"","position":{"x":1992.0,"y":504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.SplitJson","properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.rows.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","name":"RouteOnAttribute","comments":"","position":{"x":1992.0,"y":136.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","has_docs":"${doc_count:gt(0)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"has_docs":{"name":"has_docs","displayName":"has_docs","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1000,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"a7e05653-7ce2-332f-9714-03dd8419a4f3","name":"HTTPCouchDB","comments":"","position":{"x":712.0,"y":136.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{"background-color":"#4b467d"},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"true","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"600 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"true","Follow Redirects":"True","Remote URL":"https://vihiga-dev-go-ke.lg-apps.com/medic/_design/medic/_view/moh-515-summary-offline-sub_county_supervisor-verified?startkey=[\"${year}\",\"${month}\"]&endkey=[\"${year}\",\"${month}\",{}]","Content-Type":"${mime.type}","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"1050 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","Basic Authentication Username":"abigael","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"a249f227-fbf0-39c7-af07-b1e75a942e96","name":"JoltTransformJSON","comments":"","position":{"x":1344.0,"y":504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"value\": {\n        \"*\": \"&\"\n      }\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"inputPorts":[{"identifier":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","name":"In","comments":"","position":{"x":768.0,"y":-144.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"outputPorts":[{"identifier":"7914081e-1f06-32c5-87d7-ba69510fb606","name":"Out","comments":"","position":{"x":760.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"connections":[{"identifier":"4ff1ccc4-4cd4-30d9-bbc0-cb9855062ccb","name":"","source":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"destination":{"id":"116f224c-c4b8-3148-9245-8ed15c4c238c","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"28e6e37b-3f20-357a-b7e4-0ed2d8b9ad55","name":"","source":{"id":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","type":"INPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"In","comments":""},"destination":{"id":"a7e05653-7ce2-332f-9714-03dd8419a4f3","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"ee672dff-8098-318b-88fb-9b0af296a7f5","name":"No Docs","source":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"destination":{"id":"7f0f5fbe-68a1-399d-8ab0-ab110004d870","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"0c1873f5-4b22-3420-aa39-94a850dbd67f","name":"","source":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"destination":{"id":"8a014049-0e1f-3fea-9a43-35b64ccdfa50","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"92ab4093-3ab1-3288-add3-79ff062de4b7","name":"","source":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"destination":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c27b3c45-8b20-36b4-b5af-97fa844ef645","name":"","source":{"id":"a7e05653-7ce2-332f-9714-03dd8419a4f3","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"68099de6-170e-36bc-9efc-b65f0c037648","name":"","source":{"id":"e4940a02-b329-3fd0-a177-ddebc921a763","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"GetDocumentCount","comments":""},"destination":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"68b81508-1a07-396a-bdff-44fbe5d48b84","name":"","source":{"id":"a7e05653-7ce2-332f-9714-03dd8419a4f3","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"5f30e2be-8dba-3df0-b5cc-93763aef62c0","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c03c6381-e3f3-3d78-b6c6-fd91c30de167","name":"","source":{"id":"2332c4fb-3ad8-3b53-b41a-507cea0bfa72","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"RouteOnAttribute","comments":""},"destination":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["has_docs"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c15f87d3-cfa2-39df-916e-44246226b7df","name":"","source":{"id":"a7e83c85-c616-3b12-83a3-403f3bff1a13","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"SplitJson","comments":""},"destination":{"id":"c8762e84-eb3d-31af-beee-79cec1581ddf","type":"FUNNEL","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"e93939d1-a219-3dd2-9195-8504745f8990","name":"","source":{"id":"a249f227-fbf0-39c7-af07-b1e75a942e96","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"JoltTransformJSON","comments":""},"destination":{"id":"7914081e-1f06-32c5-87d7-ba69510fb606","type":"OUTPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"fe6aee91-7ae7-34f8-9bb2-a39626f67e73","name":"","source":{"id":"a7e05653-7ce2-332f-9714-03dd8419a4f3","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"destination":{"id":"a7e05653-7ce2-332f-9714-03dd8419a4f3","type":"PROCESSOR","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"HTTPCouchDB","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":502.9158935546875,"y":118.91584777832031},{"x":558.9158935546875,"y":54.91584777832031}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"labels":[],"funnels":[{"identifier":"5f30e2be-8dba-3df0-b5cc-93763aef62c0","position":{"x":864.0,"y":400.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"c8762e84-eb3d-31af-beee-79cec1581ddf","position":{"x":2144.0,"y":832.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"116f224c-c4b8-3148-9245-8ed15c4c238c","position":{"x":1496.0,"y":-144.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"8a014049-0e1f-3fea-9a43-35b64ccdfa50","position":{"x":1496.0,"y":832.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"},{"identifier":"7f0f5fbe-68a1-399d-8ab0-ab110004d870","position":{"x":2144.0,"y":-144.0},"componentType":"FUNNEL","groupIdentifier":"3e177028-423a-3634-9550-3f450e847df4"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"57d39bb2-ffc1-3cc1-960f-d34fbf131ea8","name":"","source":{"id":"655fd118-3900-3879-b381-056bee05c8b3","type":"OUTPUT_PORT","groupId":"e202b233-8572-388a-a808-c5e00813502a","name":"Out","comments":""},"destination":{"id":"cdb6128b-9e2d-3b41-b36f-226bf399af3e","type":"INPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"e37c66b0-ce04-37b6-b1ed-4415995bd6e4","name":"","source":{"id":"85b6204e-a402-3e98-b761-e29b9131b741","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Success","comments":""},"destination":{"id":"77e5b3dd-b875-3b9f-8dab-cd66f4747dbe","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Success","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"bcc1bc50-cdd3-3b02-8376-033b19ffb026","name":"","source":{"id":"43e136ec-563a-3c4f-b2e9-08d9f3ffe323","type":"OUTPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"Out","comments":""},"destination":{"id":"0b9aedec-f618-3a48-83f5-1ee1b63e22d8","type":"INPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"f68f2dac-2046-3fe3-94c2-1e50f2a70bc2","name":"","source":{"id":"d19e7eef-8e6e-3d95-b9e1-c6e215f76746","type":"OUTPUT_PORT","groupId":"0b31d1bc-1c30-3f4c-bdf8-8d09953e8658","name":"Failure","comments":""},"destination":{"id":"9f2d402a-73c4-38a3-acd7-e2d4263a535b","type":"INPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Failure","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":920.0,"y":472.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"2722c3b2-92a5-3c47-9c8f-d863ae822f33","name":"","source":{"id":"7914081e-1f06-32c5-87d7-ba69510fb606","type":"OUTPUT_PORT","groupId":"3e177028-423a-3634-9550-3f450e847df4","name":"Out","comments":""},"destination":{"id":"212bee84-afee-3e1d-9e92-f86d474cb8a3","type":"INPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"a8b5afff-11ec-3d77-b540-dfcc4bd87f41","name":"","source":{"id":"0b23a3a5-93ac-3c95-af2b-0d54ef0834b1","type":"OUTPUT_PORT","groupId":"6de969f1-846f-307e-ace5-ad0a1fcc31e5","name":"Output","comments":""},"destination":{"id":"736c2134-84fd-39d6-ab8c-c4072af03b26","type":"FUNNEL","groupId":"3e1d14ef-8948-37c5-ad64-97c9179684b5","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"},{"identifier":"aa885eec-aa75-3251-8f44-cfdb16c977fd","name":"","source":{"id":"97bf6d6d-0a9c-3144-94e7-64f36cb398d4","type":"OUTPUT_PORT","groupId":"832a0fdb-0e35-3909-b05b-6254af5a5140","name":"Out","comments":""},"destination":{"id":"4e581063-056f-3e2a-b5bb-46e99f66a8de","type":"INPUT_PORT","groupId":"f4cfdae1-6afb-3c36-9914-5ccc0e797303","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"}],"labels":[],"funnels":[{"identifier":"736c2134-84fd-39d6-ab8c-c4072af03b26","position":{"x":1160.0,"y":0.0},"componentType":"FUNNEL","groupIdentifier":"3e1d14ef-8948-37c5-ad64-97c9179684b5"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"5c9b02a1-bd9f-38b6-a227-719ea7df4537"},{"identifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG To CouchDB: Summaries","comments":"","position":{"x":64.0,"y":24.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","name":"PG Fetch Vihiga Summaries","comments":"","position":{"x":312.0,"y":744.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteSQL","properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"532bd99a-71f2-39b5-be1a-80e207b7f63a","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"select * from khis_summary_data_last_month;","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","name":"ExecuteScript","comments":"","position":{"x":312.0,"y":480.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.script.ExecuteScript","properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"\nimport java.util.Calendar\nimport java.text.SimpleDateFormat\n\n// get flow file\ndef flowFile = session.get()\nif (!flowFile) return\n\n// last day last month\ndef calendar = Calendar.getInstance()\ncalendar.add(Calendar.MONTH, -1)\ncalendar.set(Calendar.DAY_OF_MONTH, calendar.getActualMaximum(Calendar.DAY_OF_MONTH))\n\n// first day last month\ndef calendar2 = Calendar.getInstance()\ncalendar2.add(Calendar.MONTH, -1)\ncalendar2.set(Calendar.DAY_OF_MONTH, 1)\n\n\ndef year = calendar.get(Calendar.YEAR);\ndef month = new SimpleDateFormat(\"MMMM\").format(calendar.getTime());\ndef monthIso = new SimpleDateFormat(\"MM\").format(calendar.getTime());\ndef fromDate = new SimpleDateFormat(\"yyyy-MM-dd\").format(calendar2.getTime());\ndef toDate = new SimpleDateFormat(\"yyyy-MM-dd\").format(calendar.getTime());\n\n// set last month's month and year to attributes\nflowFile=session.putAttribute(flowFile, \"year\", \"$year\");\nflowFile=session.putAttribute(flowFile, \"month\", \"$month\");\nflowFile=session.putAttribute(flowFile, \"month_iso\", \"$monthIso\");\nflowFile=session.putAttribute(flowFile, \"from_date\", \"$fromDate\");\nflowFile=session.putAttribute(flowFile, \"to_date\", \"$toDate\");\n\nsession.transfer(flowFile, REL_SUCCESS)","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","name":"InvokeHTTP","comments":"","position":{"x":1296.0,"y":480.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://vihiga-stg-go-ke.lg-apps.com/medic","Content-Type":"application/json","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","Basic Authentication Username":"rmayore","Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set FlowFile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"FlowFile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"660fc58c-bc44-3586-bba2-02068221c5da","name":"JoltTransformJSON","comments":"","position":{"x":1296.0,"y":1272.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\":  \"shift\",\n    \"spec\": {\n      \"families_registered_all_time\": \"count_total_households\",\n      \"count_households_with_home_visit\": \"count_households_routine_visists\",\n      \"families_registered\": \"count_households_visited\",\n      \"count_households_with_updated_insurance\": \"count_households_visited_with_insurance\",\n      \"count_households_with_updated_insurance_uhc\": \"count_households_with_uptodate_insurance_uhc\",\n      \"count_households_with_updated_insurance_nhif\": \"count_households_with_uptodate_insurance_nhif\",\n      \"count_households_with_updated_insurance_other\": \"count_households_with_uptodate_insurance_others\",\n      \"households_with_refuse_disposal_facilities\": \"count_households_with_refuse_disposal_facility\",\n      \"count_women_15_49_yrs_counselled_fp_methods\": \"count_women_15_49yrs_counselled_on_fp\",\n      \"count_women_15_49_yrs_referred_fp_services\": \"count_women_15_49yrs_referred_for_fp\",\n      \"count_fp_services_referral_reaching_hf\": \"count_fp_services_reaching_facility\",\n      \"count_pregnancy_referrals_reaching_hf\": \"count_pregnant_women_reaching_facility\",\n      \"count_pnc_referrals_reaching_hf\": \"count_post_natal_reaching_facility\",\n      \"count_immunization_referrals_reaching_hf\": \"count_iz_defaulters_reaching_facility\",\n      \"count_hts_referrals_reaching_hf\": \"count_hiv_testing_reaching_facility\",\n      \"count_art_referrals_reaching_hf\": \"count_art_defaulters_reaching_facility\",\n      \"count_hei_referrals_reaching_hf\": \"count_hiv_exposed_infant_defaulter_reaching_facility\",\n      \"count_routine_checkups_referrals_reaching_hf\": \"count_elderly_checkups_reaching_facility\",\n      \"count_presumptive_tb_cases_referrals_reaching_hf\": \"count_presumptive_tb_cases_reaching_facility\",\n      \"count_presumptive_tb_contacts_referrals_reaching_hf\": \"count_presumptive_tb_contacts_reaching_facility\",\n      \"count_u5_child_tb_contacts_for_ipt_reaching_hf\": \"count_u5_isoniazid_therapy_reaching_facility\",\n      \"count_tb_interrupters_referrals_reaching_hf\": \"count_tb_interrupters_reaching_facility\",\n      \"pregnancies_registered\": \"count_pregnant_women\",\n      \"households_using_treated_water\": \"count_households_using_treated_water\",\n      \"households_with_hand_washing_facilities\": \"count_households_with_hand_washing_facilities\",\n      \"households_with_functional_latrines\": \"count_households_with_functional_latrines\",\n      \"count_newborn_visited_at_home_within_48_hrs\": \"count_new_born_visited_48hrs_after_birth\",\n      \"count_new_mothers_visited_within_48_hrs\": \"count_mothers_visited_48hrs\",\n      \"underage_pregnancies\": \"count_underage_pregnancies\",\n      \"count_women_15_49_yrs_provided_fp_commodities\": \"count_women_15_49yrs_given_family_planning\",\n      \"count_children_12_59_months_dewormed\": \"count_children__u5_dewormed\",\n      \"count_fever_cases_u5\": \"count_u5_fever_7days_less\",\n      \"count_fever_cases_mrdt_7days_u5\": \"count_u5_fever_7days_less_rdt_done\",\n      \"count_fever_cases_mrdt_positive_7days_u5\": \"count_u5_fever_7days_less_rdt_positive\",\n      \"count_malaria_u5_given_act\": \"count_u5_malaria_rdt_positive_treated_act\",\n      \"count_malaria_o5_given_act\": \"count_malaria_over5_mrtd_positive_act_treated\",\n      \"count_fever_cases_o5\": \"count_over_5yrs_fever_7days_less\",\n      \"count_fever_cases_mrdt_7days_o5\": \"count_over_5yrs_fever_7days_less_rdt_done\",\n      \"count_fever_cases_mrdt_positive_7days_o5\": \"count_over_5yrs_fever_7days_less_rdt_positive\",\n      \"count_diarrhoea_cases_2mo_59mo\": \"count_2_59m_diarrhoea_cases\",\n      \"diarrhoea_2mo_59mo_ors_zinc\": \"count_diarrhoea_u5_treated\",\n      \"count_fast_breathing_2mo_59mo\": \"count_2_59m_with_fast_breathing\",\n      \"count_gave_amox_2mo_59mo\": \"count_2_59m_fast_breathing_treated_amox\",\n      \"count_pregnant_women_counselled_for_anc_services\": \"count_women_counselled_on_anc\",\n      \"count_pregnant_women_referred_to_hf\": \"count_pregnant_women_referred\",\n      \"total_deliveries\": \"count_new_deliveries_at_cu\",\n      \"total_deliveries_at_hf\": \"count_new_deliveries_at_facility\",\n      \"total_deliveries_at_home\": \"count_new_deliveries_at_home\",\n      \"total_underage_deliveries_10_19_yrs\": \"count_underage_deliveries\",\n      \"count_home_deliveries_referred_for_pnc_services\": \"count_home_deliveries_referred_for_pnc\",\n      \"count_children_0_11_months_referred_for_immunization\": \"count_referred_immunization_children_under_12m\",\n      \"count_children_6_59_months_referred_vitamin_a\": \"count_referred_vitamin_a_children_u5\",\n      \"count_children_6_59_months_with_red_muac\": \"count_6_59m_children_muac_red\",\n      \"count_children_6_59_months_with_yellow_muac\": \"count_6_59m_children_muac_yellow\",\n      \"count_referred_hiv_testing_services_hts\": \"count_referred_hct\",\n      \"count_persons_60_plus_yrs_referred_for_cgs_checkups\": \"count_referred_elderly_geriatric_services\",\n      \"count_persons_screened_for_tb\": \"count_screened_for_tb\",\n      \"count_presumptive_tb_persons_referred_for_tb_diagnosis\": \"count_presumptive_tb_persons_referred\",\n      \"count_confirmed_tb_cases_from_clinic\": \"count_bacteriologically_tb_confirmed\",\n      \"count_presumptive_tb_contacts_referred_for_screening\": \"count_presumptive_bacteriologically_tb_referred\",\n      \"count_children_u5_yrs_tb_contacts_referred_for_ipt\": \"count_u5_tb_reffered_ipt\",\n      \"count_tb_treatment_interrupters\": \"count_tb_interrupters\",\n      \"count_count_tb_treatment_interrupters_traced\": \"count_tb_interrupters_traced\",\n      \"count_known_cases_diabetes\": \"count_diabetes\",\n      \"count_known_cases_cancer\": \"count_cancer\",\n      \"count_known_cases_mental_illness\": \"count_mental_illness\",\n      \"count_known_cases_hypertension\": \"count_hypertension\",\n      \"count_immunization_defaulters\": \"count_u5_iz_defaulters_referred\",\n      \"count_children_with_delayed_dev_milestone_referred\": \"count_children_delayed_development\",\n      \"count_art_defaulters\": \"count_defaulter_art\",\n      \"count_art_defaulters_traced_referred\": \"count_art_defaulters_traced_and_referred\",\n      \"count_hiv_exposed_infant_defaulters\": \"count_exposed_infant_defaulters\",\n      \"count_hiv_exposed_infant_defaulters_traced_referred\": \"count_exposed_infants_defaulters_traced_referred\",\n      \"count_infant_deaths_0_28_days\": \"count_infant_deaths_0_28dys\",\n      \"count_infant_deaths_29_days_11_months\": \"count_infant_deaths_29dy_11mo\",\n      \"count_infant_deaths_12_59_months\": \"count_infant_deaths_12_59mo\",\n      \"count_deaths_6_59_years\": \"count_deaths_6_59yrs_non_maternal\",\n      \"count_deaths_60_above_years\": \"count_deaths_60yrs_above\",\n      \"count_maternal_deaths\": \"count_maternal_deaths\",\n      \"count_community_dialogue_days_held\": \"count_community_events_dialogue_days\",\n      \"count_community_action_days_held\": \"count_community_events_action_days\",\n      \"count_cu_monthly_meetings_held\": \"count_community_events_monthly_meetings\",\n\t  \"active_chws_in_perod\": \"active_chws_in_period\",\n      \"count_chws\": \"count_chv\",\n      \"mcul_code\": \"mculcode\",\n      \"*\": \"&\"\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"225ff448-9b03-333e-b1b6-69b31de9de57","name":"SplitJson","comments":"","position":{"x":312.0,"y":1272.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.SplitJson","properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"822c83f4-33e7-3396-a36d-1e538509de57","name":"JoltTransformJSON","comments":"","position":{"x":1296.0,"y":736.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"chu_uuid\": [\"fields.chu_uuid\",\"parent._id\",\"place_id\"],\n      \"cha_uuid\": [\"contact._id\",  \"reporting_cha_id\",  \"fields.cha_id\"],\n      \"chu_name\": [\"community_unit\"],\n      \"sub_county_focal_person_uuid\": [\"fields.sub_county_supervisor_id\"],\n      \"*\": \"fields.&\"\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"fields\":{\n\t\t\"month\":\"${month}\",\n      \t\"year\":\"${year}\",\n\t\t\"month_iso\":\"${month_iso}\"\n\t\t},\n      \"type\": \"data_record\",\n      \"form\": \"moh-515-summary\",\n      \"content_type\": \"xml\",\n      \"reported_date\": ${now():toNumber()}\n    }\n  }\n]\n","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","name":"Add Extra Info","comments":"","position":{"x":1296.0,"y":976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"country":"ke","Delete Attributes Expression":null,"route":"api","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","data_type":"moh_515_aggregate","destination":"dhis2","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"country":{"name":"country","displayName":"country","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"route":{"name":"route","displayName":"route","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"data_type":{"name":"data_type","displayName":"data_type","identifiesControllerService":false,"sensitive":false},"destination":{"name":"destination","displayName":"destination","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":10,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"36445250-7e98-34dc-baaa-154467609aa2","name":"Initiate","comments":"","position":{"x":312.0,"y":240.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"1000 days","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 day","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","name":"Avro To JSON","comments":"","position":{"x":312.0,"y":976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"5986d555-3c22-3612-966b-aca2af2ad895","record-reader":"19bcd49f-90cc-34aa-9863-7a67cf5084e3","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"51b6f948-8c38-30e9-8706-b824cf25af63","name":"","source":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"destination":{"id":"66d334b2-5dd4-3faa-8adf-945b75f6637f","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"58d70cad-6a2f-3797-a077-444d9997515f","name":"","source":{"id":"36445250-7e98-34dc-baaa-154467609aa2","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Initiate","comments":""},"destination":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"db3156bb-8a82-3a52-bb9a-0512fca84cf1","name":"","source":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"destination":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"8e6241ef-4df6-3c61-8cda-97ceb7931f48","name":"","source":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"destination":{"id":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"a59e7a93-d6be-3f2a-adc8-e7e62733d7d8","name":"","source":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"destination":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"e1a9ed46-e365-36e1-b322-8f884b218fee","name":"","source":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"destination":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5b1e4e66-4905-38d2-afda-f4b8ee65574c","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1784.0,"y":488.0},{"x":1784.0,"y":568.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"64e33189-f5a0-3b4a-91a2-0d71a9e62225","name":"","source":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"f90e0468-5424-3a51-938a-d95fe62fd5ff","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"cbfd5c24-fa86-330e-8736-2e731452c0f3","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"0a66a137-ae2c-362b-af56-a14a64b38a61","name":"","source":{"id":"3d210a80-7fcc-32c3-bc92-d3163d820c7f","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"InvokeHTTP","comments":""},"destination":{"id":"c1efb3d4-69f5-304d-8a84-08a566e7e894","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"16a7444c-65b0-355f-98e1-c662f2595d31","name":"","source":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"76407e78-9a1c-3b31-ad0e-769edac2f279","name":"","source":{"id":"225ff448-9b03-333e-b1b6-69b31de9de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"SplitJson","comments":""},"destination":{"id":"5948c678-8784-38d6-94b9-52ff773ff441","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"9fc5d610-14eb-35f5-b4ad-fb74cbe53299","name":"","source":{"id":"4c1cdc44-d1c3-3225-8f21-d7f8fc714dcc","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"PG Fetch Vihiga Summaries","comments":""},"destination":{"id":"4e8522a3-6f9c-3845-b9c8-b097cc9df160","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Avro To JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"0e3a7a4d-131c-3876-a2d3-e9dcdfb99253","name":"","source":{"id":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Add Extra Info","comments":""},"destination":{"id":"822c83f4-33e7-3396-a36d-1e538509de57","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"15b08bf8-5ca2-3a70-a6e2-0c3e787b0a25","name":"","source":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"66d334b2-5dd4-3faa-8adf-945b75f6637f","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"406771d8-f239-3e9d-900f-b1ace7b23a58","name":"","source":{"id":"660fc58c-bc44-3586-bba2-02068221c5da","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"JoltTransformJSON","comments":""},"destination":{"id":"90d9bc0a-0c03-388f-ac56-d3c929975b6a","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Add Extra Info","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"2479241c-b18e-339e-b2c7-ed1a1607422a","name":"","source":{"id":"c5b7f719-0f74-306c-bcf7-e04fc91206b9","type":"PROCESSOR","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"ExecuteScript","comments":""},"destination":{"id":"c1efb3d4-69f5-304d-8a84-08a566e7e894","type":"FUNNEL","groupId":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"labels":[],"funnels":[{"identifier":"c1efb3d4-69f5-304d-8a84-08a566e7e894","position":{"x":960.0,"y":512.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5948c678-8784-38d6-94b9-52ff773ff441","position":{"x":464.0,"y":1640.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"cc0d92ed-4edd-3e31-9e4f-ad822b410cdc","position":{"x":960.0,"y":776.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"cbfd5c24-fa86-330e-8736-2e731452c0f3","position":{"x":1448.0,"y":280.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"66d334b2-5dd4-3faa-8adf-945b75f6637f","position":{"x":960.0,"y":1016.0},"componentType":"FUNNEL","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"controllerServices":[{"identifier":"19bcd49f-90cc-34aa-9863-7a67cf5084e3","name":"AvroReader","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"},{"identifier":"5986d555-3c22-3612-966b-aca2af2ad895","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"84a5e3ad-fc01-3f44-95a1-6310e0c6f88c"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"5c9b02a1-bd9f-38b6-a227-719ea7df4537"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[{"identifier":"d1823238-9704-3d76-93a1-bc6a84a480e9","name":"MOH Postgres","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"150","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://echispostgres:33000/db_echis","dbcp-time-between-eviction-runs":"-1","Database User":"nifi","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/home/echisadmin/jbdc/postgresql-42.7.2.jar","dbcp-max-idle-conns":"5"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","URL","DIRECTORY"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"5c9b02a1-bd9f-38b6-a227-719ea7df4537"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"0342be20-8b97-32e7-98d2-7c11cb2d5b42"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{"532bd99a-71f2-39b5-be1a-80e207b7f63a":{"identifier":"532bd99a-71f2-39b5-be1a-80e207b7f63a","name":"PG Vihiga"}},"parameterContexts":{},"flowEncodingVersion":"1.0"}